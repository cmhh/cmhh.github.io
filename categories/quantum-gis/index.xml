<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>quantum-gis on cmhh</title>
    <link>/categories/quantum-gis/index.xml</link>
    <description>Recent content in quantum-gis on cmhh</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <atom:link href="/categories/quantum-gis/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Web Maps and Tiles with QGIS</title>
      <link>/post/qgis/</link>
      <pubDate>Thu, 26 Jan 2017 00:00:00 +0000</pubDate>
      
      <guid>/post/qgis/</guid>
      <description>&lt;!-- BLOGDOWN-BODY-BEFORE

/BLOGDOWN-BODY-BEFORE --&gt;

&lt;p&gt;&lt;link rel=&#34;stylesheet&#34; type=&#34;text/css&#34; href=&#34;../../css/custom.css&#34;&gt;&lt;/p&gt;
&lt;div id=&#34;overview&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Overview&lt;/h1&gt;
&lt;p&gt;In an &lt;a href=&#34;../tiles/index.html&#34;&gt;earlier post&lt;/a&gt;, we looked at how to style a map using &lt;a href=&#34;https://tilemill-project.github.io/tilemill/&#34;&gt;TileMill&lt;/a&gt; (actually, using a fork called &lt;a href=&#34;https://github.com/florianf/tileoven&#34;&gt;TileOven&lt;/a&gt;), render tiles with &lt;a href=&#34;http://mapnik.org/&#34;&gt;Mapnik&lt;/a&gt;, and finally serve tiles using &lt;a href=&#34;http://tilestache.org/&#34;&gt;TileStache&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Serving tiles in this way is useful, avoiding the need to bundle potentially large features with an online map or web app. At the same time, the outlined process is a little involved.&lt;/p&gt;
&lt;p&gt;In this post we look at the open source &lt;a href=&#34;http://www.qgis.org/en/site/&#34;&gt;Quantum GIS&lt;/a&gt;. QGIS provides functionality to publish maps as WMS / WFS / WCS services, and so we look at how this is done.&lt;/p&gt;
&lt;p&gt;QGIS is made extensible via plugins, and this is a strong feature of the product. We also look at a plugin called &lt;a href=&#34;https://bitbucket.org/we-do-it/qgis-latlongo-stage-1&#34;&gt;QMetaTiles&lt;/a&gt; which can make a set of static tiles which can be combined with a web server to be used as a standard tile service.&lt;/p&gt;
&lt;!--
Finally, we consider
[QGIS Web Client](http://www.qgis.org/en/site/about/features.html#qgis-web-client),
a means of publishing QGIS projects on the web.  While not producing a service
in the same way as the other features considered, this is still a useful
feature worth looking at.
--&gt;
&lt;/div&gt;
&lt;div id=&#34;prerequisites&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Prerequisites&lt;/h1&gt;
&lt;p&gt;In this post we outline the steps required on a Debian-based Linux distribution (Ubuntu or Debian). However, for the most part, things should be able to be adapted for use on a Windows platform.&lt;/p&gt;
&lt;div id=&#34;qgis-qgis-server&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;QGIS + QGIS Server&lt;/h2&gt;
&lt;p&gt;To install, simply run:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;sudo apt-get install qgis qgis-server&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The version of QGIS available will likely be an older, LTS version. If a newer version is desired, simply follow the instructions provided on the QGIS website. In the case of Ubuntu / Debian Linux:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.qgis.org/en/site/forusers/alldownloads.html#debian-ubuntu&#34;&gt;QGIS Installers&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;fastcgi-nginx&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;fastcgi + NGINX&lt;/h2&gt;
&lt;p&gt;To deploy QGIS maps as a service, a CGI-enabled web server is required. For illustration here we use &lt;a href=&#34;https://www.nginx.com/&#34;&gt;NGINX&lt;/a&gt; and FastCGI. But &lt;a href=&#34;https://httpd.apache.org/&#34;&gt;Apache&lt;/a&gt; is relatively easy to use on both Linux and Windows users. Windows users might find it easy to use IIS and &lt;a href=&#34;https://www.iis.net/downloads/microsoft/fastcgi-for-iis&#34;&gt;FastCGI for IIS&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Regardless, to install both NGINX and fastcgi:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;sudo apt-get install nginx fcgiwrap&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To enable CGI, modify the NGINX default config (probably something like &lt;code&gt;/etc/nginx/sites-available/default&lt;/code&gt;) so it looks as follows:&lt;/p&gt;
&lt;pre class=&#34;asis&#34;&gt;&lt;code&gt;...

server {

  ...

  location /cgi-bin/ {
    gzip off;
    include fastcgi_params;
    fastcgi_param SCRIPT_FILENAME /usr/lib$fastcgi_script_name;
    fastcgi_pass unix:/var/run/fcgiwrap.socket;
  }
   
  ...

}

...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When done, test the config and restart NGINX if all is well:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;sudo /etc/init.d/nginx configtest &amp;amp;&amp;amp; sudo /etc/init.d/nginx reload&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To conduct a quick test, we can make a little CGI script. On my machine, I created a file called &lt;code&gt;/usr/lib/cgi-bin/hello.cgi&lt;/code&gt; with the following content:&lt;/p&gt;
&lt;pre class=&#34;python&#34;&gt;&lt;code&gt;#!/usr/bin/python
print &amp;quot;Content-type: text/html\n\n&amp;quot;
print &amp;quot;&amp;lt;html&amp;gt;&amp;lt;head&amp;gt;&amp;lt;title&amp;gt;Hello, World!&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt;\n&amp;quot;
print &amp;quot;&amp;lt;body&amp;gt;&amp;lt;h1&amp;gt;Hello, World!&amp;lt;/h1&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;\n&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The file needs to be made readable and executable, so:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;sudo chmod go+rx /usr/lib/cgi-bin/hello.cgi&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then, browsing to &lt;code&gt;http://localhost/test/hello.cgi&lt;/code&gt; will yield something like:&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/qgis/hello.png&#34; alt=&#34;hello.cgi&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;hello.cgi&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;publish-qgis-maps-via-wms&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Publish QGIS Maps via WMS&lt;/h1&gt;
&lt;p&gt;Here we’ll consider just two simple examples:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;several polygon feature classes from SQLite&lt;/li&gt;
&lt;li&gt;several rasters from geoTIFF files.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(It had been my intention to use shapefiles for the polygon features, but QGIS kept crashing when adding labels to the Area Unit layer, and when setting the rendering option ‘only draw labels which fit completely within feature’–the exact same feature class exported to SQLite does not seem to have this issue.)&lt;/p&gt;
&lt;p&gt;In each case we will use R to demonstrate consumption of the service using the &lt;code&gt;leaflet&lt;/code&gt; package, and the &lt;code&gt;addWMSTiles&lt;/code&gt; function.&lt;/p&gt;
&lt;p&gt;As a shortcut, the two projects have been archived and uploaded to GitHub at:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/cmhh/spatialdata/raw/master/qgs/2013.zip&#34;&gt;2013.zip&lt;/a&gt; &lt;a href=&#34;https://github.com/cmhh/spatialdata/raw/master/qgs/2013.zip&#34;&gt;2013.zip&lt;/a&gt;&lt;/p&gt;
&lt;div id=&#34;polygons&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Polygons&lt;/h2&gt;
&lt;p&gt;We start QGIS, and we load 4 polygon feature classes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MB2013&lt;/li&gt;
&lt;li&gt;AU2013&lt;/li&gt;
&lt;li&gt;TA2013&lt;/li&gt;
&lt;li&gt;REGC2013&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The project is saved as &lt;code&gt;~/Maps/2013/2013.qgs&lt;/code&gt;, and each of the included feature classes is saved in the same directory as the project. In addition we also place a copy of &lt;code&gt;/usr/lib/cgi-bin/qgis-mapserve.fcgi&lt;/code&gt; in the directory.&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/qgis/qgis.2013.01.png&#34; alt=&#34;2013.qgs&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;&lt;code&gt;2013.qgs&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Only basic styling is applied–simple black outlines for each feature class, and labels only visible at certain scales.&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/qgis/qgis.2013.02.png&#34; alt=&#34;Style&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;Style&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/qgis/qgis.2013.03.png&#34; alt=&#34;Labels&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;Labels&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Next, to enable the map as a web service, open the the project properties (CTRL + SHIFT + P), and select ‘OWS Server’. There, check the ‘Service capabilites’ box, and also the ‘Use layer ids as names’ box. To enable WFS, also check each box in the ‘Published’ column in the table under the section labelled ‘WFS capabilities (also influences DXF export)’. Click the ‘Launch’ button in the ‘Test configuration’ section to confirm everything is okay, the click ‘OK’, and save the project.&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/qgis/qgis.2013.04.png&#34; alt=&#34;OWS server&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;OWS server&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;At this point, the service isn’t yet published. To do this, first ensure that the ‘Save paths’ option in the project properties is set to ‘relative’:&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/qgis/qgis.2013.05.png&#34; alt=&#34;General settings&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;General settings&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Then, copy the project to &lt;code&gt;/usr/lib/cgi-bin/&lt;/code&gt;, which is where the webserver is configured to run CGI scripts from (of course, modify this as you see fit if you have decided, for safety reasons or otherwise, to serve CGI content from a different location):&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;sudo cp -R ~/Maps/2013 /usr/lib/cgi-bin/
sudo chmod -R go+rx /usr/lib/cgi-bin/2013&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If all is well, you should get a response at the following URI:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;http://localhost/cgi-bin/2013/qgis_mapserv.fcgi?service=wms&amp;amp;request=getcapabilities&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The result should be an XML file describing the service. It is, of course, possible to get images directly from the service given the right set of parameters. For example:&lt;/p&gt;
&lt;pre class=&#34;asis&#34;&gt;&lt;code&gt;https://localhost/cgi-bin/2013/qgis_mapserv.fcgi?&amp;amp;SERVICE=WMS&amp;amp;REQUEST=GetMap&amp;amp;VERSION=1.1.1&amp;amp;LAYERS=REGC2013&amp;amp;STYLES=&amp;amp;FORMAT=image%2Fpng&amp;amp;TRANSPARENT=true&amp;amp;HEIGHT=256&amp;amp;WIDTH=256&amp;amp;SRS=EPSG%3A2193&amp;amp;BBOX=1089971.21440,4747987.36420,2470042.12700,6194308.49260&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;yields the following thumbnail:&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/qgis/qgis_mapserv.01.png&#34; alt=&#34;GetMap&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;&lt;code&gt;GetMap&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;As a further example, we use R to create a leaflet map containing each layer:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(leaflet)

uri &amp;lt;- &amp;quot;https://localhost/cgi-bin/2013/qgis_mapserv.fcgi?&amp;quot;

leaflet() %&amp;gt;%
  addTiles() %&amp;gt;%
  fitBounds(167, -48, 179, -34) %&amp;gt;%
  addWMSTiles(baseUrl=uri, 
              layers=&amp;quot;REGC2013&amp;quot;,
              options = WMSTileOptions(format = &amp;quot;image/png&amp;quot;, transparent = TRUE),
              group = &amp;quot;Regional Council&amp;quot;) %&amp;gt;%
  addWMSTiles(baseUrl=uri,
              layers=&amp;quot;TA2013&amp;quot;,
              options = WMSTileOptions(format = &amp;quot;image/png&amp;quot;, transparent = TRUE),
              group = &amp;quot;Territorial Authority&amp;quot;) %&amp;gt;%
  addWMSTiles(baseUrl=uri,
              layers=&amp;quot;AU2013&amp;quot;,
              options = WMSTileOptions(format = &amp;quot;image/png&amp;quot;, transparent = TRUE),
              group = &amp;quot;Area Unit&amp;quot;) %&amp;gt;%
  addWMSTiles(baseUrl=uri,
              layers=&amp;quot;MB2013&amp;quot;,
              options = WMSTileOptions(format = &amp;quot;image/png&amp;quot;, transparent = TRUE),
              group = &amp;quot;Meshblock&amp;quot;) %&amp;gt;%
  addLayersControl(baseGroups = c(&amp;quot;Regional Council&amp;quot;, &amp;quot;Territorial Authority&amp;quot;,
                                  &amp;quot;Area Unit&amp;quot;, &amp;quot;Meshblock&amp;quot;),
                   options = layersControlOptions(collapsed = FALSE))&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/qgis/leaflet.01.png&#34; alt=&#34;leaflet&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;leaflet&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;rasters&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Rasters&lt;/h2&gt;
&lt;p&gt;We start QGIS and load the raster &lt;code&gt;Nitrogen_Leaching_20150903.tif&lt;/code&gt;. The project is saved as &lt;code&gt;~/Maps/nitrogen.qgs&lt;/code&gt;, and both the raster and a copy of &lt;code&gt;/usr/lib/cgi-bin/qgis-mapserve.fcgi&lt;/code&gt; is placed in the same directory.&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/qgis/qgis.nitrogen.01.png&#34; alt=&#34;nitrogen.qgs&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;&lt;code&gt;nitrogen.qgs&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Some basic styling is applied. Specifically, the colouring is changed from greyscale to psuedo-colour (yellow to red).&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/qgis/qgis.nitrogen.02.png&#34; alt=&#34;Style&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;Style&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Making the map available as a web service is similar to before, except we check features under the ‘WCS’ heading rather than ‘WFS’.&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/qgis/qgis.nitrogen.03.png&#34; alt=&#34;OWS server&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;OWS server&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;As before, we copy the project to the web server root directory, and alter permissions to make it readable (and executable):&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;sudo cp -R ~/Maps/nitrogen /usr/lib/cgi-bin/
sudo chmod -R go+rx /usr/lib/cgi-bin/nitrogen&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Again, if the service is functioning correctly, there should be at the following URL:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;http://localhost/cgi-bin/nitrogen/qgis_mapserv.fcgi?service=wms&amp;amp;request=getcapabilities&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;And, again, it should bepossible to get images directly from the service given the right set of parameters. For example:&lt;/p&gt;
&lt;pre class=&#34;asis&#34;&gt;&lt;code&gt;https://localhost/cgi-bin/nitrogen/qgis_mapserv.fcgi?&amp;amp;SERVICE=WMS&amp;amp;REQUEST=GetMap&amp;amp;VERSION=1.1.1&amp;amp;LAYERS=nitrogen&amp;amp;STYLES=&amp;amp;FORMAT=image%2Fpng&amp;amp;HEIGHT=256&amp;amp;WIDTH=256&amp;amp;SRS=EPSG%3A2193&amp;amp;BBOX=1089971.21440,4747987.36420,2470042.12700,6194308.49260&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;yields the following thumbnail:&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/qgis/qgis_mapserv.02.png&#34; alt=&#34;GetMap&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;&lt;code&gt;GetMap&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;As a further example, we use R to create a leaflet map containing each layer:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(leaflet)

uri &amp;lt;- &amp;quot;https://localhost/cgi-bin/nitrogen/qgis_mapserv.fcgi?&amp;quot;

leaflet() %&amp;gt;%
  addTiles() %&amp;gt;%
  fitBounds(167, -48, 179, -34) %&amp;gt;%
  addWMSTiles(baseUrl=uri, 
              layers=&amp;quot;nitrogen&amp;quot;,
              options = WMSTileOptions(format = &amp;quot;image/png&amp;quot;, transparent = TRUE),
              group = &amp;quot;nitrogen&amp;quot;)%&amp;gt;%
  addLayersControl(overlayGroups = c(&amp;quot;nitrogen&amp;quot;),
                   options = layersControlOptions(collapsed = FALSE))&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/qgis/leaflet.02.png&#34; alt=&#34;leaflet&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;leaflet&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;make-a-tilecache-and-publish-via-a-webserver&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Make a Tilecache and Publish via a Webserver&lt;/h1&gt;
&lt;p&gt;Plugins are easy to install in QGIS–simply click the ‘Plugins’ menu item, and then select ‘Managa and Install Plugins…’. Search for QMetaTiles, and click install. Once installed, we simply open the previous &lt;code&gt;nitrogen.qgs&lt;/code&gt; project, and run the QMetaTiles plugin. We simply chose a target directory, and the zoom levels required, and then run the plugin.&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/qgis/qmetatiles.01.png&#34; alt=&#34;QMetaTiles&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;QMetaTiles&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Of course, the problem with a tile cache is size. A tileset covering just New Zealand down to a low zoom can easily total several gigabytes in size. On the other hand, a tile server which creates images on-the-fly only requires the raw inputs be saved–in this case totalling only 40 or so megabytes.&lt;/p&gt;
&lt;p&gt;Regardless, we can copy the tiles somewhere on the webserver path, and then treat them as a tile service. In this case, I moved the tiles to &lt;code&gt;/var/www/html/tilecache/nitrogen&lt;/code&gt; as follows:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;sudo mkdir -p /var/www/html/tilecache
sudo mv ~/Maps/tilecache/nitrogen /var/www/html/tilecache/
sudo chmod -R go+rx /var/www/html/tilecache&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The ‘service’ should then be reachable at:&lt;/p&gt;
&lt;pre class=&#34;asis&#34;&gt;&lt;code&gt;http://localhost/tilecache/nitrogen/{z}/{x}/{y}.png&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For example, we can make a leaflet chart in R as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(leaflet)

leaflet() %&amp;gt;%
  fitBounds(167, -48, 179, -34) %&amp;gt;%
  addTiles() %&amp;gt;%
  addTiles(urlTemplate=&amp;quot;https://localhost/tilecache/nitrogen/{z}/{x}/{y}.png&amp;quot;,
           group = &amp;quot;nitrogen&amp;quot;) %&amp;gt;%
  addLayersControl(overlayGroups = c(&amp;quot;nitrogen&amp;quot;),
                   options = layersControlOptions(collapsed = FALSE))&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/qgis/leaflet.03.png&#34; alt=&#34;leaflet&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;leaflet&lt;/p&gt;
&lt;/div&gt;
&lt;!--
# Show Features in a Web Client

First, download the client:

```bash
cd Downloads
git clone https://github.com/qgis/qgis-web-client.git
```

The resulting directory was 172MB when I did it, so this could take a minute or
tow.  Then, install somewhere your webserver can see:

```bash
cd qgis-web-client
sudo mkdir -p /var/www/html/qgis-web-client/projects
sudo ./install.sh /var/www/html/qgis-web-client/projects
```
--&gt;
&lt;/div&gt;


&lt;!-- BLOGDOWN-HEAD




/BLOGDOWN-HEAD --&gt;
</description>
    </item>
    
  </channel>
</rss>
