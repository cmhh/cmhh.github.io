<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>cmhh  | Routing in R Using the Open Source Routing Machine (OSRM)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css" />
    <link href="https://cmhh.github.io/css/highlight/atom-one-dark-reasonable.css" rel='stylesheet' type='text/css' />
    <link rel="stylesheet" href="https://cmhh.github.io/css/blog.css" />
    <link rel="stylesheet" href="https://cmhh.github.io/css/custom.css" />
</head>
<body>

    
    <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://cmhh.github.io/">Home</a>
            
        </div>
    </nav>
    

    
    <section class="hero is-info is-medium">
        <div class="hero-body" style="background-image: url(https://cmhh.github.io/img/bg-blog-2.jpg);">
            <div class="container has-text-centered">
                <br>
                <h1 class="title is-size-1">
                    
                        Routing in R Using the Open Source Routing Machine (OSRM)
                    
                </h1>
                
            </div>
        </div>
    </section>


<div class="container">
    <div class="section">
    

<div class="columns">
    <div class="column is-9">
        <div class="tile is-child box">
            <div class="content">
                
<script src="../../rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="../../rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="../../rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="../../rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="../../rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="../../rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="../../rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="../../rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="../../rmarkdown-libs/leaflet-binding/leaflet.js"></script>


<p><link rel="stylesheet" type="text/css" href="../../css/custom.css"></p>
<div id="overview" class="section level1">
<h1>Overview</h1>
<p>I often find myself needing to establish the travel time or distance between
arrays of addresses. In the past I have used ArcMap’s Network Analyst tool,
but have found the syntax to be clunky at best, and the performance to be very
mediocre. And, besides, I am often working in R and sometimes it’s nice to be
able to do everything in the one environment, rather than doing the routing in
Python, say, and then using the results in R.</p>
<p>The <a href="http://project-osrm.org/">open source routing machine</a> is a very fast
routing engine which can be accessed via an
<a href="https://github.com/Project-OSRM/osrm-backend/blob/master/docs/http.md">HTTP API</a>,
which means it can be queried relatviely easy from most languages, including R.
And while public servers are available for use, it is also relatively easy to
set up locally resulting in excellent throughput due to the lack of latency.</p>
</div>
<div id="prerequisites" class="section level1">
<h1>Prerequisites</h1>
<p>The following R pacakges are required:</p>
<ul>
<li><code>rjson</code> for reading web service results in JSON format</li>
<li><code>bitops</code> used to decode polylines (has convenient bitshift operators, etc.)</li>
<li><code>sp</code> for spatial projections, etc.</li>
<li><code>leaflet</code> for rendering <a href="http://leafletjs.com/">leaflet</a> maps in
a browser</li>
</ul>
</div>
<div id="geocoding-addresses" class="section level1">
<h1>Geocoding addresses</h1>
<p>The <a href="https://developers.google.com/maps/documentation/geocoding/">Google
Geocoding API</a> is used to geocode addresses. Usage is free, but the free
license is limited to 2500 requests per day, at a rate no faster than 5 per
second. There are free alternatives, but I’ve not found any that are
satisfactorally accurate for New Zealand addresses. That said, interesting
alternatives worth keeping an eye on are:</p>
<ul>
<li><a href="http://www.datasciencetoolkit.org/">data science toolkit</a> - doesn’t work at
all for New Zealand</li>
<li><a href="http://wiki.openstreetmap.org/wiki/Nominatim">Nominatim</a> - finds addresses
but probably only okay if approximate locations are acceptable.</li>
</ul>
<p>The following code results in two addresses being geocoded which we will use
as an origin and a destination later when using a routing service.</p>
<pre class="r"><code>library(rjson)

# use HERE API to geocode a start point...
get_location &lt;- function(search_text, 
                         app_id = params$app_id, app_code = params$app_code) {
   service &lt;- &quot;https://geocoder.api.here.com/6.2/geocode.json&quot;
   query &lt;- sprintf(
     &quot;%s?app_id=%s&amp;app_code=%s&amp;searchtext=%s&quot;,
     service, app_id, app_code,
     gsub(&quot; &quot;, &quot;%20&quot;, search_text, fixed = TRUE)
   )
   
   res1 &lt;- jsonlite::fromJSON(query, simplifyVector = FALSE)
   res2 &lt;- res1$Response$View[[1]]$Result[[1]]$Location
   
   list(
      lng = res2$DisplayPosition$Longitude, 
      lat = res2$DisplayPosition$Latitude, 
      address = res2$Address$Label
   )
}

# start point...
(o &lt;- get_location(&quot;25 Edelweiss Grove, Timberlea, Upper Hutt&quot;))</code></pre>
<pre><code>$lng
[1] 175.1085

$lat
[1] -41.10678

$address
[1] &quot;25 Edelweiss Grv, Timberlea, Wellington 5018, New Zealand&quot;</code></pre>
<pre class="r"><code># ...and destination
(d &lt;- get_location(&quot;1 Pipitea Street, Wellington&quot;))</code></pre>
<pre><code>$lng
[1] 174.7811

$lat
[1] -41.27568

$address
[1] &quot;1 Pipitea St, Thorndon, Wellington 6011, New Zealand&quot;</code></pre>
</div>
<div id="open-source-routing-machine-osrm" class="section level1">
<h1>Open Source Routing Machine (OSRM)</h1>
<p><a href="http://project-osrm.org/">Open Source Routing Machine</a> is an open
source route solver. It is written in C++ and runs on Linux (maybe other
platforms, but stick with Linux), and is very fast. There is a nice web demo
which uses the service as a back-end
<a href="http://map.project-osrm.org/">here</a>. The back-end service is
available to the public at
<a href="https://router.project-osrm.org">https://router.project-osrm.org</a>.
Details, including usage policy, is available
<a href="https://github.com/Project-OSRM/osrm-backend/wiki/API Usage Policy">
here</a>.</p>
<p>The code below shows how to find a route between the origin and destination
locations found above:</p>
<pre class="r"><code>(url &lt;- paste0(&quot;http://cmhh.hopto.org/osrm/route/v1/driving/&quot;, 
   o$lng,&quot;,&quot;,o$lat,&quot;;&quot;,d$lng,&quot;,&quot;,d$lat,&quot;?overview=full&quot;))</code></pre>
<pre><code>[1] &quot;http://cmhh.hopto.org/osrm/route/v1/driving/175.10847,-41.10678;174.78112,-41.27568?overview=full&quot;</code></pre>
<pre class="r"><code>system.time({
  route &lt;- jsonlite::fromJSON(url, simplifyVector = FALSE)
})</code></pre>
<pre><code>   user  system elapsed 
  0.021   0.002   0.066 </code></pre>
<p>Again, assuming a route was successfully found, <code>route</code> will now contain a list
including, among other things, time in seconds to traverse the route, distance
in metres, and the route geomertry stored in
<a href="https://developers.google.com/maps/documentation/utilities/polylinealgorithm">encoded polyline algorithm format</a>.</p>
<pre class="r"><code>route$routes[[1]]$duration</code></pre>
<pre><code>[1] 1754.4</code></pre>
<pre class="r"><code>route$routes[[1]]$distance</code></pre>
<pre><code>[1] 35340.6</code></pre>
<pre class="r"><code>route$routes[[1]]$geometry</code></pre>
<pre><code>[1] &quot;~t{yFozwk`@[hAo@rAOKMEOAO?MByBnBD^Tj@DNDVNNr@|APh@Lp@p@~DBVV\\V\\XVzB~A^RNDV@\\AfAOVCXBPFJFTPh@v@XLTBj@ALBLHLNNT|BzDfAhBFL@LALAJGLcExFcChDMRIPSp@Mh@G\\E\\ET`BLhAFnBRn@D^Fd@Lf@PTJXPZRLJTVVZJJNVHPLTTb@P`@LNT`@Tl@HPFNHRXz@XbAZ`B`@xAXbATlANjAHd@FbAHrABZJbBHzAL|AJxAHjAJjA@PTfC\\bDXhC\\dDZlC\\`Dp@~Gd@vDJjA@PBZDp@HpANzDFjAP~EL`DNpDH~AFpBHtBBhABjA@v@?fBAxACvAGbFAfA@`AB`ABt@H`EFnCLvCHhBHzFBz@Bn@@lABz@?jAAxAC|BOrG?`BCvDAjD?|E?pAAdLB~DFfDN~CRvCPrBPlBZbCZpB@JJZ\\~AjA~EHVFXPt@Z`Ap@bBt@rBjAjCp@tAl@lA`AdBfAbB~AdC|BnDpC~DfBjCz@rALZP^Tn@Dd@Jh@Dj@Bt@?l@Cl@EVMdAIlAErABjAJlALl@f@vAVl@Xh@`AhBjAdChAdDz@zCt@jCvD|NZ`ANd@\\dA|@~B`@bAp@tAhAlB~@bB~A|BxDdGbDjEfC|DzBjDfBlChBtCfAlBfAtB`AnB|@~BZ~@l@fBd@rA\\hAz@tC|@tCr@pBh@zA|@vBr@jBfAdCh@dAh@hAbAtBz@`Bl@rAbBzCr@xAp@|Ad@hAhAxCv@vBdA`Dj@zAd@dAr@dB|@nBhA|Bp@hA~@zAfBlC`ClDhB~Bt@fAl@|@f@`Ad@x@\\v@Tl@b@pAXdAX`Al@jB`@~An@zBj@lCt@jD`@hBbA`Dx@fCfBfF`@jA`@hAj@nAn@pAt@rA^l@~@lAhAxAjCbDtAnAnBzAbC`BnAbAvAjA~BhCfBlCf@~@Zf@dAnBnA|BpA`CfBbD`BxCbCfEl@jA~@jBr@`Bt@lBx@jC`AhD~@zCv@~BdA`ClBtDd@|@pChEbE`Ft@hAzCnCtArArAxAnA~ApAlBpAtB`C|DbD~EpCrDvDdFlBhCpBnCxB`DzAjClAfClB|Dv@vA`A|AjA|AvAbBtCnDpCbDfAzAbA`BnA`ChAbCt@~Av@xA|@|A|@nAn@t@|@`ArBxB|B|BvE|E|BhCvAxAfAlApA`BbBhCnCtErC`FbBtCv@|ApBnE|AnDlDfIxDvIrA~C`ApBfB`DnBtDt@pAtA|Bf@z@FLFNb@z@lA~Bj@rAv@dBx@~ApAdCp@rAzBfEvBpEvB|EpCxFhBdEdAfCtC`HxBbFL\\N\\`@|@~@tBpAfCbApBl@pAl@pAl@zAl@zAXn@d@fA`AvB~ApDnCzFtDlHj@tAVj@jAtC^dA\\~@v@fBHV^bAn@hBnAfDnDjJpAjD`@bA^t@vBnDn@rAt@xA|AfDbA~Bz@xBt@dBdAbCf@pAjCjHxBzFv@~Bh@pAt@nAdAlBt@fA|@rAnAlB~BlDx@tAbCrDvA~Bn@dAbAzBr@rARf@^|@j@~Ah@vAh@zAXfAVv@ZdAZ~@h@xA\\z@\\`A`A`Cp@fBLd@j@|AZfAx@xCjApEhB|Gv@pCv@jCfCjHt@pBb@hAh@vAfAfDl@hBbA`DxBvIvApG|ApHfAnFTpBJnBHfCAbB?`@Ch@El@OhAEf@ARA^?\\B\\Hd@Jd@R`AXv@vCxMxAlGbBvH^`Bb@|AtAhD^dAZhATnATlAj@~CxBvMrAnIZdBXbA^bAl@tAp@dAv@~@|@x@nCbCh@l@^l@p@lAb@bAd@~A~@lE\\|A\\fAd@jAj@`A^h@`@f@`GvGlCrDlCtExG~M~IfR~ExH`ElIfFxKrBjElBjE`AnBpArCx@bBjAtBjAnBlBhCfBdC~@rAr@bAp@fAj@~@x@zAp@hAl@fAbAnB`AfB`BfDtA~CzBpEvElKn@fAf@t@`@h@j@p@f@j@x@`Aj@l@tAbBfBbCvB~ExA`Er@jCdAzFfAbG~@jDlChI\\lAl@hBn@|Ax@hBlAbCpArBvAnBhAnAx@x@LPz@x@`Az@hAdAt@t@b@b@^d@f@r@^r@b@hAb@lAr@jB`@dAd@dAl@hAx@dA~@~@lG|FpAnAhI`Jt@x@~CbDxJvIlAxA`@n@dGhJh@p@TRZLVFV?ZAp@Ox@ULGhAm@l@YtAs@ZQr@]BCj@YXORITMjAo@HaGAKN@&quot;</code></pre>
<p>We write a function to convert the encoded route to a <code>SpatialLines</code> object:</p>
<pre class="r"><code>decode &lt;- function(str, multiplier=1e5){
   
   if (!require(bitops)) stop(&quot;Package: bitops required.&quot;)
   if (!require(sp)) stop(&quot;Package: sp required.&quot;)
   
   truck &lt;- 0
   trucks &lt;- c()
   carriage_q &lt;- 0
   
   for (i in 0:(nchar(str)-1)){
      ch &lt;- substr(str, (i+1), (i+1))
      x &lt;- as.numeric(charToRaw(ch)) - 63
      x5 &lt;- bitShiftR(bitShiftL(x, 32-5), 32-5)
      truck &lt;- bitOr(truck, bitShiftL(x5, carriage_q))
      carriage_q &lt;- carriage_q + 5
      islast &lt;- bitAnd(x, 32) == 0
      if (islast){
         negative &lt;- bitAnd(truck, 1) == 1
         if (negative) truck &lt;- -bitShiftR(-bitFlip(truck), 1)/multiplier
         else truck &lt;- bitShiftR(truck, 1)/multiplier
         trucks &lt;- c(trucks, truck)
         carriage_q &lt;- 0
         truck &lt;- 0
      }
   }
   lat &lt;- trucks[c(T,F)][-1]
   lng &lt;- trucks[c(F,T)][-1]
   res &lt;- data.frame(lat=c(trucks[1],cumsum(lat)+trucks[1]), 
                     lng=c(trucks[2],cumsum(lng)+trucks[2]))

   coordinates(res) &lt;- ~lng+lat
   proj4string(res) &lt;- CRS(&quot;+init=epsg:4326&quot;)
   return(SpatialLines(list(Lines(Line(res), 1)), CRS(&quot;+init=epsg:4326&quot;)))
}</code></pre>
<pre class="r"><code>par(mar=par()$mar-c(1,0,2.5,0), cex=0.8)
path &lt;- decode(route$routes[[1]]$geometry, multiplier=1e5)
plot(path); axis(1); axis(2); box()</code></pre>
<p><img src="../../post/routing_files/figure-html/plot-1.png" width="810" style="display: block; margin: auto;" /></p>
</div>
<div id="using-leaflet-to-make-a-nicer-map" class="section level1">
<h1>Using <code>leaflet</code> to make a nicer map</h1>
<p>It is relatively easy to make a nice interactive map. Here we draw a simple
<a href="http://leafletjs.com/">leaflet</a> map, and overlay the origin and
destination points, as well as the route between.</p>
<pre class="r"><code>#make a string to nicely label the route
s &lt;- route$routes[[1]]$duration
kms &lt;- round(route$routes[[1]]$distance/1000, 1)
routelabel &lt;- paste0(s%/%60, &quot;m &quot;, s%%60, &quot;s , &quot;, kms, &quot;kms&quot;)

#create a basic map
library(leaflet)
m &lt;- leaflet(width=&quot;100%&quot;) %&gt;% 
  addTiles()  %&gt;% 
  addPolylines(data=path, popup=routelabel, color = &quot;#000000&quot;, opacity=1, weight = 3) %&gt;%
  addMarkers(lng=o$lng, lat=o$lat, popup=o$address) %&gt;%
  addMarkers(lng=d$lng, lat=d$lat, popup=d$address)</code></pre>
<pre class="r"><code>m</code></pre>
<div id="htmlwidget-1" style="width:100%;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addPolylines","args":[[[[{"lng":[175.1084,175.10803,175.10761,175.10767,175.1077,175.10771,175.10771,175.10769,175.10713,175.10697,175.10675,175.10667,175.10655,175.10647,175.106,175.10579,175.10554,175.10458,175.10446,175.10431,175.10416,175.10404,175.10356,175.10346,175.10343,175.10342,175.10343,175.10351,175.10353,175.10351,175.10347,175.10343,175.10334,175.10306,175.10299,175.10297,175.10298,175.10296,175.10291,175.10283,175.10272,175.10178,175.10125,175.10118,175.10111,175.10104,175.10098,175.10091,175.09966,175.09881,175.09871,175.09862,175.09837,175.09816,175.09801,175.09786,175.09775,175.09768,175.09764,175.09754,175.09751,175.09747,175.0974,175.09731,175.09725,175.09716,175.09706,175.097,175.09688,175.09674,175.09668,175.09656,175.09647,175.09636,175.09618,175.09601,175.09593,175.09576,175.09553,175.09544,175.09536,175.09526,175.09496,175.09462,175.09413,175.09368,175.09334,175.09295,175.09257,175.09238,175.09204,175.09162,175.09148,175.09098,175.09052,175.09005,175.0896,175.08922,175.08884,175.08875,175.08807,175.08725,175.08656,175.08573,175.08502,175.08421,175.08277,175.08185,175.08147,175.08138,175.08124,175.08099,175.08058,175.07964,175.07926,175.07814,175.07733,175.07644,175.07596,175.07539,175.0748,175.07443,175.07405,175.07377,175.07325,175.0728,175.07236,175.07122,175.07086,175.07053,175.0702,175.06993,175.06896,175.06824,175.06748,175.06695,175.06569,175.06539,175.06515,175.06476,175.06446,175.06408,175.06363,175.063,175.06162,175.06113,175.06021,175.05935,175.05824,175.05783,175.05572,175.05476,175.05392,175.05312,175.05236,175.05178,175.05123,175.05057,175.05,175.04994,175.0498,175.04932,175.0482,175.04808,175.04795,175.04768,175.04735,175.04685,175.04627,175.04557,175.04514,175.04475,175.04424,175.04374,175.04307,175.04219,175.04123,175.04053,175.04011,175.03997,175.03981,175.03957,175.03938,175.03917,175.03895,175.03868,175.03845,175.03822,175.0381,175.03775,175.03736,175.03694,175.03656,175.03617,175.03594,175.0355,175.03527,175.03506,175.03453,175.03386,175.03303,175.03225,175.03155,175.029,175.02867,175.02848,175.02813,175.02749,175.02715,175.02672,175.02617,175.02567,175.02504,175.02373,175.02271,175.02176,175.0209,175.02019,175.01944,175.01889,175.0183,175.01774,175.0171,175.01678,175.01626,175.01584,175.01547,175.01472,175.01397,175.0134,175.01294,175.01234,175.0118,175.01113,175.01078,175.01041,175.00982,175.00933,175.00891,175.00813,175.00768,175.00721,175.00684,175.00607,175.00547,175.00466,175.0042,175.00385,175.00334,175.00278,175.00215,175.00178,175.00132,175.00061,174.99974,174.9991,174.99874,174.99843,174.9981,174.99781,174.99753,174.9973,174.99689,174.99654,174.99621,174.99567,174.99519,174.99457,174.99386,174.993,174.99247,174.99166,174.99098,174.98982,174.98944,174.98907,174.98867,174.98826,174.98784,174.98761,174.98722,174.98677,174.98595,174.98555,174.98509,174.9846,174.98426,174.98388,174.98319,174.98248,174.98216,174.98196,174.9814,174.98077,174.98012,174.9793,174.97853,174.97753,174.97715,174.97661,174.97612,174.97557,174.97487,174.97402,174.97324,174.9726,174.97195,174.97104,174.97073,174.96972,174.96859,174.96822,174.9675,174.96708,174.96663,174.96615,174.9656,174.96501,174.96406,174.96294,174.96204,174.96089,174.9602,174.95948,174.95867,174.95797,174.95729,174.95634,174.9559,174.95543,174.95496,174.95446,174.95358,174.95276,174.9523,174.95181,174.95116,174.9505,174.95002,174.94957,174.9491,174.9487,174.94843,174.9481,174.94749,174.94686,174.94575,174.94506,174.94461,174.94422,174.94373,174.94304,174.94197,174.94084,174.94009,174.93962,174.93858,174.9377,174.93606,174.93434,174.93354,174.93297,174.93216,174.93125,174.93084,174.93021,174.92991,174.92984,174.92976,174.92946,174.92882,174.9284,174.92789,174.92741,174.92674,174.92632,174.92532,174.92427,174.92316,174.92191,174.92092,174.92024,174.91879,174.91765,174.9175,174.91735,174.91704,174.91645,174.91577,174.9152,174.91479,174.91438,174.91392,174.91346,174.91322,174.91286,174.91226,174.91137,174.91011,174.9086,174.90817,174.90795,174.9072,174.90685,174.90653,174.90601,174.90589,174.90555,174.90502,174.90418,174.90236,174.9015,174.90116,174.90089,174.90001,174.89959,174.89914,174.8983,174.89766,174.89705,174.89654,174.89588,174.89547,174.89397,174.89271,174.89207,174.89166,174.89126,174.89071,174.89035,174.88993,174.88938,174.88851,174.88808,174.88718,174.88654,174.88619,174.88557,174.88515,174.88495,174.88464,174.88416,174.88372,174.88326,174.8829,174.88262,174.88227,174.88195,174.8815,174.8812,174.88087,174.88022,174.8797,174.87951,174.87904,174.87868,174.87791,174.87686,174.87543,174.8747,174.874,174.8725,174.87193,174.87156,174.87112,174.87028,174.86975,174.86894,174.86722,174.86585,174.86432,174.86312,174.86255,174.86199,174.86131,174.86081,174.86064,174.86043,174.8602,174.85983,174.85963,174.85953,174.85937,174.85922,174.85907,174.85888,174.85869,174.85836,174.85808,174.85571,174.85436,174.8528,174.85231,174.85184,174.85099,174.85064,174.85027,174.84987,174.84948,174.84868,174.84632,174.84464,174.84413,174.84379,174.84345,174.84302,174.84267,174.84235,174.84206,174.8414,174.84117,174.84094,174.84055,174.84021,174.83973,174.8387,174.83823,174.83787,174.83749,174.83716,174.83695,174.83675,174.83535,174.83445,174.83338,174.83098,174.8279,174.82633,174.82466,174.82261,174.82159,174.82057,174.82001,174.81927,174.81877,174.81818,174.81762,174.81693,174.81626,174.81584,174.8155,174.81514,174.81482,174.81436,174.81399,174.81363,174.81307,174.81255,174.81171,174.81091,174.80986,174.80787,174.80751,174.80724,174.80703,174.80678,174.80656,174.80623,174.806,174.8055,174.80484,174.80372,174.80275,174.80205,174.80079,174.79949,174.79863,174.79698,174.79659,174.79606,174.79559,174.79506,174.7944,174.79382,174.79326,174.79286,174.79257,174.79248,174.79219,174.79189,174.79154,174.79127,174.79109,174.7909,174.79064,174.79038,174.79001,174.78962,174.78908,174.78873,174.78838,174.78801,174.78766,174.78734,174.78607,174.78567,174.7839,174.78361,174.78279,174.78107,174.78062,174.78038,174.77857,174.77832,174.77822,174.77815,174.77811,174.77811,174.77812,174.7782,174.77831,174.77835,174.77858,174.77871,174.77897,174.77906,174.77921,174.77923,174.77936,174.77944,174.77949,174.77956,174.7798,174.78109,174.78115,174.78114],"lat":[-41.10688,-41.10674,-41.1065,-41.10642,-41.10635,-41.10627,-41.10619,-41.10612,-41.10551,-41.10554,-41.10565,-41.10568,-41.10571,-41.10579,-41.10605,-41.10614,-41.10621,-41.10646,-41.10648,-41.1066,-41.10672,-41.10685,-41.10747,-41.10763,-41.10771,-41.10783,-41.10798,-41.10834,-41.10846,-41.10859,-41.10868,-41.10874,-41.10885,-41.10906,-41.10919,-41.1093,-41.10952,-41.10959,-41.10966,-41.10973,-41.10981,-41.11044,-41.1108,-41.11084,-41.11085,-41.11084,-41.11083,-41.11079,-41.10981,-41.10915,-41.10908,-41.10903,-41.10893,-41.10886,-41.10882,-41.10879,-41.10876,-41.10925,-41.10962,-41.11018,-41.11042,-41.11058,-41.11077,-41.11097,-41.11108,-41.11121,-41.11135,-41.11142,-41.11153,-41.11165,-41.11171,-41.11179,-41.11184,-41.11191,-41.11202,-41.11211,-41.11218,-41.11229,-41.1124,-41.11245,-41.11249,-41.11254,-41.11267,-41.1128,-41.11294,-41.11311,-41.11324,-41.11335,-41.11343,-41.11348,-41.11352,-41.11357,-41.11359,-41.11365,-41.1137,-41.11377,-41.11383,-41.11388,-41.11394,-41.11395,-41.11406,-41.11421,-41.11434,-41.11449,-41.11463,-41.11478,-41.11503,-41.11522,-41.11528,-41.11529,-41.11531,-41.11534,-41.11539,-41.11547,-41.11551,-41.1156,-41.11567,-41.11575,-41.1158,-41.11584,-41.11589,-41.11591,-41.11593,-41.11594,-41.11594,-41.11593,-41.11591,-41.11587,-41.11586,-41.11587,-41.11589,-41.11591,-41.11596,-41.116,-41.11607,-41.11612,-41.11617,-41.11619,-41.11621,-41.11622,-41.11624,-41.11624,-41.11623,-41.11621,-41.11613,-41.11613,-41.11611,-41.1161,-41.1161,-41.1161,-41.11609,-41.11611,-41.11615,-41.11623,-41.11633,-41.11642,-41.11651,-41.11665,-41.11679,-41.1168,-41.11686,-41.11701,-41.11739,-41.11744,-41.11748,-41.11757,-41.11771,-41.11796,-41.11823,-41.11861,-41.11886,-41.11909,-41.11942,-41.11978,-41.12026,-41.12089,-41.12162,-41.12214,-41.12244,-41.12251,-41.1226,-41.12271,-41.12274,-41.1228,-41.12283,-41.12285,-41.12285,-41.12283,-41.1228,-41.12273,-41.12268,-41.12265,-41.12267,-41.12273,-41.1228,-41.123,-41.12312,-41.12325,-41.12358,-41.12396,-41.12433,-41.12463,-41.1249,-41.12582,-41.12596,-41.12604,-41.12619,-41.1265,-41.12667,-41.12692,-41.12729,-41.12761,-41.12809,-41.12902,-41.12984,-41.13052,-41.13114,-41.13166,-41.13219,-41.13255,-41.13291,-41.13324,-41.13355,-41.13369,-41.13392,-41.13411,-41.13426,-41.13456,-41.13487,-41.13513,-41.13534,-41.13565,-41.13591,-41.13627,-41.13648,-41.13669,-41.13703,-41.13733,-41.13756,-41.13806,-41.13832,-41.13857,-41.13876,-41.13913,-41.13941,-41.13976,-41.13998,-41.14017,-41.14043,-41.14074,-41.14111,-41.14136,-41.14168,-41.1422,-41.14285,-41.14338,-41.14365,-41.14388,-41.14408,-41.14427,-41.14442,-41.14453,-41.14471,-41.14484,-41.14497,-41.1452,-41.14537,-41.14561,-41.14583,-41.1461,-41.14627,-41.14661,-41.1469,-41.14742,-41.14759,-41.14776,-41.14798,-41.14822,-41.14849,-41.14865,-41.14897,-41.14934,-41.15004,-41.15047,-41.15103,-41.15169,-41.15209,-41.15253,-41.15317,-41.15369,-41.15389,-41.15403,-41.15438,-41.15478,-41.15519,-41.15571,-41.1562,-41.15686,-41.15709,-41.15741,-41.15767,-41.15794,-41.15823,-41.15856,-41.15888,-41.15916,-41.15951,-41.16006,-41.16025,-41.16098,-41.16196,-41.16223,-41.16301,-41.16344,-41.16386,-41.16426,-41.16467,-41.16508,-41.16573,-41.16655,-41.16728,-41.1682,-41.16875,-41.16932,-41.16993,-41.17039,-41.17078,-41.17133,-41.17161,-41.17194,-41.17232,-41.17276,-41.17351,-41.17424,-41.1746,-41.17494,-41.17534,-41.17571,-41.17598,-41.17626,-41.17657,-41.17688,-41.17712,-41.17743,-41.17801,-41.17864,-41.17972,-41.18035,-41.18079,-41.18115,-41.18156,-41.18206,-41.18278,-41.18352,-41.18402,-41.1843,-41.18487,-41.18534,-41.18621,-41.18714,-41.18756,-41.18789,-41.18841,-41.18897,-41.18924,-41.18967,-41.18987,-41.18991,-41.18995,-41.19013,-41.19052,-41.19074,-41.19102,-41.19131,-41.19172,-41.19197,-41.19259,-41.19319,-41.19379,-41.19452,-41.19505,-41.1954,-41.19615,-41.19676,-41.19683,-41.19691,-41.19708,-41.1974,-41.19781,-41.19815,-41.19838,-41.19861,-41.19884,-41.19907,-41.1992,-41.19939,-41.19972,-41.2002,-41.20092,-41.20183,-41.20205,-41.20217,-41.20255,-41.20271,-41.20286,-41.20314,-41.20319,-41.20335,-41.20359,-41.20399,-41.20487,-41.20528,-41.20545,-41.20561,-41.20621,-41.20645,-41.20672,-41.20719,-41.20753,-41.20783,-41.2081,-41.20845,-41.20865,-41.20935,-41.20996,-41.21024,-41.21045,-41.21072,-41.21107,-41.21134,-41.21165,-41.21205,-41.21269,-41.21298,-41.21364,-41.21408,-41.21432,-41.21466,-41.21492,-41.21502,-41.21518,-41.2154,-41.21561,-41.21582,-41.21595,-41.21607,-41.21621,-41.21635,-41.21656,-41.21671,-41.21686,-41.21719,-41.21744,-41.21751,-41.21773,-41.21787,-41.21816,-41.21854,-41.21907,-41.21935,-41.21963,-41.22031,-41.22058,-41.22076,-41.22097,-41.22133,-41.22156,-41.2219,-41.22251,-41.22295,-41.22342,-41.22378,-41.22389,-41.22395,-41.224,-41.22399,-41.22399,-41.22397,-41.22394,-41.22386,-41.22383,-41.22382,-41.22381,-41.22381,-41.22383,-41.22388,-41.22394,-41.22404,-41.22417,-41.22493,-41.22538,-41.22588,-41.22604,-41.22622,-41.22665,-41.22681,-41.22695,-41.22706,-41.22717,-41.22739,-41.228,-41.22842,-41.22856,-41.22869,-41.22885,-41.22908,-41.22933,-41.22961,-41.22992,-41.23064,-41.23085,-41.23101,-41.23126,-41.23144,-41.23163,-41.23195,-41.2321,-41.23225,-41.23244,-41.23266,-41.23282,-41.23299,-41.23428,-41.23499,-41.2357,-41.23711,-41.23887,-41.23999,-41.24096,-41.24212,-41.2427,-41.24325,-41.24358,-41.24399,-41.24428,-41.24466,-41.24504,-41.24559,-41.24611,-41.24643,-41.24669,-41.24694,-41.24716,-41.24745,-41.2477,-41.24793,-41.24827,-41.2486,-41.24909,-41.24952,-41.25014,-41.25122,-41.25146,-41.25166,-41.25183,-41.25205,-41.25225,-41.25254,-41.25276,-41.25319,-41.25371,-41.25431,-41.25476,-41.25502,-41.25537,-41.25573,-41.25605,-41.25676,-41.25691,-41.25714,-41.25738,-41.25767,-41.25806,-41.25847,-41.25891,-41.25928,-41.25957,-41.25964,-41.25994,-41.26027,-41.26064,-41.26091,-41.26109,-41.26125,-41.26145,-41.26161,-41.26179,-41.26197,-41.26223,-41.2624,-41.26259,-41.26282,-41.26311,-41.26343,-41.26478,-41.26519,-41.26684,-41.26711,-41.26791,-41.2698,-41.27019,-41.27036,-41.27167,-41.27188,-41.27199,-41.27213,-41.27225,-41.27237,-41.27251,-41.27276,-41.27305,-41.27312,-41.27349,-41.27372,-41.27415,-41.27429,-41.27455,-41.27457,-41.27479,-41.27492,-41.27502,-41.27513,-41.27551,-41.27556,-41.27555,-41.27563]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#000000","weight":3,"opacity":1,"fill":false,"fillColor":"#000000","fillOpacity":0.2,"smoothFactor":1,"noClip":false},"29m 14.4000000000001s , 35.3kms",null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[-41.10678,175.10847,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"25 Edelweiss Grv, Timberlea, Wellington 5018, New Zealand",null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[-41.27568,174.78112,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"1 Pipitea St, Thorndon, Wellington 6011, New Zealand",null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-41.27568,-41.10551],"lng":[174.77811,175.10847]}},"evals":[],"jsHooks":[]}</script>
<p>It’s also relatively straight forward to use different base maps, and a nice
demo of some other providers can be found
<a href="http://leaflet-extras.github.io/leaflet-providers/preview/">here</a>.
For example:</p>
<pre class="r"><code>require(leaflet)
leaflet(width=&quot;100%&quot;, height=600) %&gt;% 
  addTiles(urlTemplate=&#39;http://{s}.tile.stamen.com/watercolor/{z}/{x}/{y}.png&#39;) %&gt;%
  addTiles(urlTemplate=&#39;http://{s}.tile.openstreetmap.se/hydda/roads_and_labels/{z}/{x}/{y}.png&#39;) %&gt;%
  addPolylines(data=path, popup=routelabel, color = &quot;#000000&quot;, opacity=1, weight = 3) %&gt;%
  addMarkers(lng = o$lng, lat = o$lat, popup = o$address) %&gt;%
  addMarkers(lng = d$lng, lat = d$lat, popup = d$address)</code></pre>
<div id="htmlwidget-2" style="width:100%;height:600px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["http://{s}.tile.stamen.com/watercolor/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false}]},{"method":"addTiles","args":["http://{s}.tile.openstreetmap.se/hydda/roads_and_labels/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false}]},{"method":"addPolylines","args":[[[[{"lng":[175.1084,175.10803,175.10761,175.10767,175.1077,175.10771,175.10771,175.10769,175.10713,175.10697,175.10675,175.10667,175.10655,175.10647,175.106,175.10579,175.10554,175.10458,175.10446,175.10431,175.10416,175.10404,175.10356,175.10346,175.10343,175.10342,175.10343,175.10351,175.10353,175.10351,175.10347,175.10343,175.10334,175.10306,175.10299,175.10297,175.10298,175.10296,175.10291,175.10283,175.10272,175.10178,175.10125,175.10118,175.10111,175.10104,175.10098,175.10091,175.09966,175.09881,175.09871,175.09862,175.09837,175.09816,175.09801,175.09786,175.09775,175.09768,175.09764,175.09754,175.09751,175.09747,175.0974,175.09731,175.09725,175.09716,175.09706,175.097,175.09688,175.09674,175.09668,175.09656,175.09647,175.09636,175.09618,175.09601,175.09593,175.09576,175.09553,175.09544,175.09536,175.09526,175.09496,175.09462,175.09413,175.09368,175.09334,175.09295,175.09257,175.09238,175.09204,175.09162,175.09148,175.09098,175.09052,175.09005,175.0896,175.08922,175.08884,175.08875,175.08807,175.08725,175.08656,175.08573,175.08502,175.08421,175.08277,175.08185,175.08147,175.08138,175.08124,175.08099,175.08058,175.07964,175.07926,175.07814,175.07733,175.07644,175.07596,175.07539,175.0748,175.07443,175.07405,175.07377,175.07325,175.0728,175.07236,175.07122,175.07086,175.07053,175.0702,175.06993,175.06896,175.06824,175.06748,175.06695,175.06569,175.06539,175.06515,175.06476,175.06446,175.06408,175.06363,175.063,175.06162,175.06113,175.06021,175.05935,175.05824,175.05783,175.05572,175.05476,175.05392,175.05312,175.05236,175.05178,175.05123,175.05057,175.05,175.04994,175.0498,175.04932,175.0482,175.04808,175.04795,175.04768,175.04735,175.04685,175.04627,175.04557,175.04514,175.04475,175.04424,175.04374,175.04307,175.04219,175.04123,175.04053,175.04011,175.03997,175.03981,175.03957,175.03938,175.03917,175.03895,175.03868,175.03845,175.03822,175.0381,175.03775,175.03736,175.03694,175.03656,175.03617,175.03594,175.0355,175.03527,175.03506,175.03453,175.03386,175.03303,175.03225,175.03155,175.029,175.02867,175.02848,175.02813,175.02749,175.02715,175.02672,175.02617,175.02567,175.02504,175.02373,175.02271,175.02176,175.0209,175.02019,175.01944,175.01889,175.0183,175.01774,175.0171,175.01678,175.01626,175.01584,175.01547,175.01472,175.01397,175.0134,175.01294,175.01234,175.0118,175.01113,175.01078,175.01041,175.00982,175.00933,175.00891,175.00813,175.00768,175.00721,175.00684,175.00607,175.00547,175.00466,175.0042,175.00385,175.00334,175.00278,175.00215,175.00178,175.00132,175.00061,174.99974,174.9991,174.99874,174.99843,174.9981,174.99781,174.99753,174.9973,174.99689,174.99654,174.99621,174.99567,174.99519,174.99457,174.99386,174.993,174.99247,174.99166,174.99098,174.98982,174.98944,174.98907,174.98867,174.98826,174.98784,174.98761,174.98722,174.98677,174.98595,174.98555,174.98509,174.9846,174.98426,174.98388,174.98319,174.98248,174.98216,174.98196,174.9814,174.98077,174.98012,174.9793,174.97853,174.97753,174.97715,174.97661,174.97612,174.97557,174.97487,174.97402,174.97324,174.9726,174.97195,174.97104,174.97073,174.96972,174.96859,174.96822,174.9675,174.96708,174.96663,174.96615,174.9656,174.96501,174.96406,174.96294,174.96204,174.96089,174.9602,174.95948,174.95867,174.95797,174.95729,174.95634,174.9559,174.95543,174.95496,174.95446,174.95358,174.95276,174.9523,174.95181,174.95116,174.9505,174.95002,174.94957,174.9491,174.9487,174.94843,174.9481,174.94749,174.94686,174.94575,174.94506,174.94461,174.94422,174.94373,174.94304,174.94197,174.94084,174.94009,174.93962,174.93858,174.9377,174.93606,174.93434,174.93354,174.93297,174.93216,174.93125,174.93084,174.93021,174.92991,174.92984,174.92976,174.92946,174.92882,174.9284,174.92789,174.92741,174.92674,174.92632,174.92532,174.92427,174.92316,174.92191,174.92092,174.92024,174.91879,174.91765,174.9175,174.91735,174.91704,174.91645,174.91577,174.9152,174.91479,174.91438,174.91392,174.91346,174.91322,174.91286,174.91226,174.91137,174.91011,174.9086,174.90817,174.90795,174.9072,174.90685,174.90653,174.90601,174.90589,174.90555,174.90502,174.90418,174.90236,174.9015,174.90116,174.90089,174.90001,174.89959,174.89914,174.8983,174.89766,174.89705,174.89654,174.89588,174.89547,174.89397,174.89271,174.89207,174.89166,174.89126,174.89071,174.89035,174.88993,174.88938,174.88851,174.88808,174.88718,174.88654,174.88619,174.88557,174.88515,174.88495,174.88464,174.88416,174.88372,174.88326,174.8829,174.88262,174.88227,174.88195,174.8815,174.8812,174.88087,174.88022,174.8797,174.87951,174.87904,174.87868,174.87791,174.87686,174.87543,174.8747,174.874,174.8725,174.87193,174.87156,174.87112,174.87028,174.86975,174.86894,174.86722,174.86585,174.86432,174.86312,174.86255,174.86199,174.86131,174.86081,174.86064,174.86043,174.8602,174.85983,174.85963,174.85953,174.85937,174.85922,174.85907,174.85888,174.85869,174.85836,174.85808,174.85571,174.85436,174.8528,174.85231,174.85184,174.85099,174.85064,174.85027,174.84987,174.84948,174.84868,174.84632,174.84464,174.84413,174.84379,174.84345,174.84302,174.84267,174.84235,174.84206,174.8414,174.84117,174.84094,174.84055,174.84021,174.83973,174.8387,174.83823,174.83787,174.83749,174.83716,174.83695,174.83675,174.83535,174.83445,174.83338,174.83098,174.8279,174.82633,174.82466,174.82261,174.82159,174.82057,174.82001,174.81927,174.81877,174.81818,174.81762,174.81693,174.81626,174.81584,174.8155,174.81514,174.81482,174.81436,174.81399,174.81363,174.81307,174.81255,174.81171,174.81091,174.80986,174.80787,174.80751,174.80724,174.80703,174.80678,174.80656,174.80623,174.806,174.8055,174.80484,174.80372,174.80275,174.80205,174.80079,174.79949,174.79863,174.79698,174.79659,174.79606,174.79559,174.79506,174.7944,174.79382,174.79326,174.79286,174.79257,174.79248,174.79219,174.79189,174.79154,174.79127,174.79109,174.7909,174.79064,174.79038,174.79001,174.78962,174.78908,174.78873,174.78838,174.78801,174.78766,174.78734,174.78607,174.78567,174.7839,174.78361,174.78279,174.78107,174.78062,174.78038,174.77857,174.77832,174.77822,174.77815,174.77811,174.77811,174.77812,174.7782,174.77831,174.77835,174.77858,174.77871,174.77897,174.77906,174.77921,174.77923,174.77936,174.77944,174.77949,174.77956,174.7798,174.78109,174.78115,174.78114],"lat":[-41.10688,-41.10674,-41.1065,-41.10642,-41.10635,-41.10627,-41.10619,-41.10612,-41.10551,-41.10554,-41.10565,-41.10568,-41.10571,-41.10579,-41.10605,-41.10614,-41.10621,-41.10646,-41.10648,-41.1066,-41.10672,-41.10685,-41.10747,-41.10763,-41.10771,-41.10783,-41.10798,-41.10834,-41.10846,-41.10859,-41.10868,-41.10874,-41.10885,-41.10906,-41.10919,-41.1093,-41.10952,-41.10959,-41.10966,-41.10973,-41.10981,-41.11044,-41.1108,-41.11084,-41.11085,-41.11084,-41.11083,-41.11079,-41.10981,-41.10915,-41.10908,-41.10903,-41.10893,-41.10886,-41.10882,-41.10879,-41.10876,-41.10925,-41.10962,-41.11018,-41.11042,-41.11058,-41.11077,-41.11097,-41.11108,-41.11121,-41.11135,-41.11142,-41.11153,-41.11165,-41.11171,-41.11179,-41.11184,-41.11191,-41.11202,-41.11211,-41.11218,-41.11229,-41.1124,-41.11245,-41.11249,-41.11254,-41.11267,-41.1128,-41.11294,-41.11311,-41.11324,-41.11335,-41.11343,-41.11348,-41.11352,-41.11357,-41.11359,-41.11365,-41.1137,-41.11377,-41.11383,-41.11388,-41.11394,-41.11395,-41.11406,-41.11421,-41.11434,-41.11449,-41.11463,-41.11478,-41.11503,-41.11522,-41.11528,-41.11529,-41.11531,-41.11534,-41.11539,-41.11547,-41.11551,-41.1156,-41.11567,-41.11575,-41.1158,-41.11584,-41.11589,-41.11591,-41.11593,-41.11594,-41.11594,-41.11593,-41.11591,-41.11587,-41.11586,-41.11587,-41.11589,-41.11591,-41.11596,-41.116,-41.11607,-41.11612,-41.11617,-41.11619,-41.11621,-41.11622,-41.11624,-41.11624,-41.11623,-41.11621,-41.11613,-41.11613,-41.11611,-41.1161,-41.1161,-41.1161,-41.11609,-41.11611,-41.11615,-41.11623,-41.11633,-41.11642,-41.11651,-41.11665,-41.11679,-41.1168,-41.11686,-41.11701,-41.11739,-41.11744,-41.11748,-41.11757,-41.11771,-41.11796,-41.11823,-41.11861,-41.11886,-41.11909,-41.11942,-41.11978,-41.12026,-41.12089,-41.12162,-41.12214,-41.12244,-41.12251,-41.1226,-41.12271,-41.12274,-41.1228,-41.12283,-41.12285,-41.12285,-41.12283,-41.1228,-41.12273,-41.12268,-41.12265,-41.12267,-41.12273,-41.1228,-41.123,-41.12312,-41.12325,-41.12358,-41.12396,-41.12433,-41.12463,-41.1249,-41.12582,-41.12596,-41.12604,-41.12619,-41.1265,-41.12667,-41.12692,-41.12729,-41.12761,-41.12809,-41.12902,-41.12984,-41.13052,-41.13114,-41.13166,-41.13219,-41.13255,-41.13291,-41.13324,-41.13355,-41.13369,-41.13392,-41.13411,-41.13426,-41.13456,-41.13487,-41.13513,-41.13534,-41.13565,-41.13591,-41.13627,-41.13648,-41.13669,-41.13703,-41.13733,-41.13756,-41.13806,-41.13832,-41.13857,-41.13876,-41.13913,-41.13941,-41.13976,-41.13998,-41.14017,-41.14043,-41.14074,-41.14111,-41.14136,-41.14168,-41.1422,-41.14285,-41.14338,-41.14365,-41.14388,-41.14408,-41.14427,-41.14442,-41.14453,-41.14471,-41.14484,-41.14497,-41.1452,-41.14537,-41.14561,-41.14583,-41.1461,-41.14627,-41.14661,-41.1469,-41.14742,-41.14759,-41.14776,-41.14798,-41.14822,-41.14849,-41.14865,-41.14897,-41.14934,-41.15004,-41.15047,-41.15103,-41.15169,-41.15209,-41.15253,-41.15317,-41.15369,-41.15389,-41.15403,-41.15438,-41.15478,-41.15519,-41.15571,-41.1562,-41.15686,-41.15709,-41.15741,-41.15767,-41.15794,-41.15823,-41.15856,-41.15888,-41.15916,-41.15951,-41.16006,-41.16025,-41.16098,-41.16196,-41.16223,-41.16301,-41.16344,-41.16386,-41.16426,-41.16467,-41.16508,-41.16573,-41.16655,-41.16728,-41.1682,-41.16875,-41.16932,-41.16993,-41.17039,-41.17078,-41.17133,-41.17161,-41.17194,-41.17232,-41.17276,-41.17351,-41.17424,-41.1746,-41.17494,-41.17534,-41.17571,-41.17598,-41.17626,-41.17657,-41.17688,-41.17712,-41.17743,-41.17801,-41.17864,-41.17972,-41.18035,-41.18079,-41.18115,-41.18156,-41.18206,-41.18278,-41.18352,-41.18402,-41.1843,-41.18487,-41.18534,-41.18621,-41.18714,-41.18756,-41.18789,-41.18841,-41.18897,-41.18924,-41.18967,-41.18987,-41.18991,-41.18995,-41.19013,-41.19052,-41.19074,-41.19102,-41.19131,-41.19172,-41.19197,-41.19259,-41.19319,-41.19379,-41.19452,-41.19505,-41.1954,-41.19615,-41.19676,-41.19683,-41.19691,-41.19708,-41.1974,-41.19781,-41.19815,-41.19838,-41.19861,-41.19884,-41.19907,-41.1992,-41.19939,-41.19972,-41.2002,-41.20092,-41.20183,-41.20205,-41.20217,-41.20255,-41.20271,-41.20286,-41.20314,-41.20319,-41.20335,-41.20359,-41.20399,-41.20487,-41.20528,-41.20545,-41.20561,-41.20621,-41.20645,-41.20672,-41.20719,-41.20753,-41.20783,-41.2081,-41.20845,-41.20865,-41.20935,-41.20996,-41.21024,-41.21045,-41.21072,-41.21107,-41.21134,-41.21165,-41.21205,-41.21269,-41.21298,-41.21364,-41.21408,-41.21432,-41.21466,-41.21492,-41.21502,-41.21518,-41.2154,-41.21561,-41.21582,-41.21595,-41.21607,-41.21621,-41.21635,-41.21656,-41.21671,-41.21686,-41.21719,-41.21744,-41.21751,-41.21773,-41.21787,-41.21816,-41.21854,-41.21907,-41.21935,-41.21963,-41.22031,-41.22058,-41.22076,-41.22097,-41.22133,-41.22156,-41.2219,-41.22251,-41.22295,-41.22342,-41.22378,-41.22389,-41.22395,-41.224,-41.22399,-41.22399,-41.22397,-41.22394,-41.22386,-41.22383,-41.22382,-41.22381,-41.22381,-41.22383,-41.22388,-41.22394,-41.22404,-41.22417,-41.22493,-41.22538,-41.22588,-41.22604,-41.22622,-41.22665,-41.22681,-41.22695,-41.22706,-41.22717,-41.22739,-41.228,-41.22842,-41.22856,-41.22869,-41.22885,-41.22908,-41.22933,-41.22961,-41.22992,-41.23064,-41.23085,-41.23101,-41.23126,-41.23144,-41.23163,-41.23195,-41.2321,-41.23225,-41.23244,-41.23266,-41.23282,-41.23299,-41.23428,-41.23499,-41.2357,-41.23711,-41.23887,-41.23999,-41.24096,-41.24212,-41.2427,-41.24325,-41.24358,-41.24399,-41.24428,-41.24466,-41.24504,-41.24559,-41.24611,-41.24643,-41.24669,-41.24694,-41.24716,-41.24745,-41.2477,-41.24793,-41.24827,-41.2486,-41.24909,-41.24952,-41.25014,-41.25122,-41.25146,-41.25166,-41.25183,-41.25205,-41.25225,-41.25254,-41.25276,-41.25319,-41.25371,-41.25431,-41.25476,-41.25502,-41.25537,-41.25573,-41.25605,-41.25676,-41.25691,-41.25714,-41.25738,-41.25767,-41.25806,-41.25847,-41.25891,-41.25928,-41.25957,-41.25964,-41.25994,-41.26027,-41.26064,-41.26091,-41.26109,-41.26125,-41.26145,-41.26161,-41.26179,-41.26197,-41.26223,-41.2624,-41.26259,-41.26282,-41.26311,-41.26343,-41.26478,-41.26519,-41.26684,-41.26711,-41.26791,-41.2698,-41.27019,-41.27036,-41.27167,-41.27188,-41.27199,-41.27213,-41.27225,-41.27237,-41.27251,-41.27276,-41.27305,-41.27312,-41.27349,-41.27372,-41.27415,-41.27429,-41.27455,-41.27457,-41.27479,-41.27492,-41.27502,-41.27513,-41.27551,-41.27556,-41.27555,-41.27563]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#000000","weight":3,"opacity":1,"fill":false,"fillColor":"#000000","fillOpacity":0.2,"smoothFactor":1,"noClip":false},"29m 14.4000000000001s , 35.3kms",null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[-41.10678,175.10847,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"25 Edelweiss Grv, Timberlea, Wellington 5018, New Zealand",null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[-41.27568,174.78112,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"1 Pipitea St, Thorndon, Wellington 6011, New Zealand",null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-41.27568,-41.10551],"lng":[174.77811,175.10847]}},"evals":[],"jsHooks":[]}</script>
</div>

            </div>
        </div>
    </div>
    <div class="column is-3">
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Tags</h1>
        <div class="tags">
        
            <span class="tag"><a href="https://cmhh.github.io/tags/akka-http">akka-http</a></span>
        
            <span class="tag"><a href="https://cmhh.github.io/tags/docker">docker</a></span>
        
            <span class="tag"><a href="https://cmhh.github.io/tags/geoserver">geoserver</a></span>
        
            <span class="tag"><a href="https://cmhh.github.io/tags/geospatial">geospatial</a></span>
        
            <span class="tag"><a href="https://cmhh.github.io/tags/nodejs">nodejs</a></span>
        
            <span class="tag"><a href="https://cmhh.github.io/tags/osrm">osrm</a></span>
        
            <span class="tag"><a href="https://cmhh.github.io/tags/postgis">postgis</a></span>
        
            <span class="tag"><a href="https://cmhh.github.io/tags/postgresql">postgresql</a></span>
        
            <span class="tag"><a href="https://cmhh.github.io/tags/qgis">qgis</a></span>
        
            <span class="tag"><a href="https://cmhh.github.io/tags/r">r</a></span>
        
            <span class="tag"><a href="https://cmhh.github.io/tags/r-packages">r-packages</a></span>
        
            <span class="tag"><a href="https://cmhh.github.io/tags/seasonal-adjustment">seasonal-adjustment</a></span>
        
            <span class="tag"><a href="https://cmhh.github.io/tags/shiny">shiny</a></span>
        
            <span class="tag"><a href="https://cmhh.github.io/tags/tiles">tiles</a></span>
        
            <span class="tag"><a href="https://cmhh.github.io/tags/tilestache">tilestache</a></span>
        
            <span class="tag"><a href="https://cmhh.github.io/tags/vuejs">vuejs</a></span>
        
            <span class="tag"><a href="https://cmhh.github.io/tags/wmts">wmts</a></span>
        
            <span class="tag"><a href="https://cmhh.github.io/tags/wsl2">wsl2</a></span>
        
            <span class="tag"><a href="https://cmhh.github.io/tags/x13-arima-seats">x13-arima-seats</a></span>
        
        </div>          
    </div>
</div><br>
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Recent posts</h1>
        
            <h1><a href="https://cmhh.github.io/post/rpostgis/">Using PostGIS as a Spatial Backend for R</a></h1>
            <time class="has-text-grey-light is-size-7">31 October 2020</time>
        
            <h1><a href="https://cmhh.github.io/post/docker_wsl2/">Docker on Windows with Windows Subsystem for Linux 2</a></h1>
            <time class="has-text-grey-light is-size-7">31 October 2020</time>
        
            <h1><a href="https://cmhh.github.io/post/seasadj/">Seasonal Adjustment as a Service</a></h1>
            <time class="has-text-grey-light is-size-7">1 June 2020</time>
        
            <h1><a href="https://cmhh.github.io/post/geoserver/">Building Tile Services on-the-fly with GeoServer</a></h1>
            <time class="has-text-grey-light is-size-7">17 September 2019</time>
        
            <h1><a href="https://cmhh.github.io/post/qgis/">Web Maps and Tiles with QGIS</a></h1>
            <time class="has-text-grey-light is-size-7">26 January 2017</time>
        
    </div>
</div>
    <br>
                
  



<div class="card">
    <div class="card-content">
        <h1 class="title is-5">Related posts</h1>
      
      
            <h1><a href="https://cmhh.github.io/post/rpostgis/">Using PostGIS as a Spatial Backend for R</a></h1>
            <time class="has-text-grey-light is-size-7">31 October 2020</time>
      
            <h1><a href="https://cmhh.github.io/post/geoserver/">Building Tile Services on-the-fly with GeoServer</a></h1>
            <time class="has-text-grey-light is-size-7">17 September 2019</time>
      
            <h1><a href="https://cmhh.github.io/post/datapackages/">Using R Packages to Disseminate Data</a></h1>
            <time class="has-text-grey-light is-size-7">20 July 2016</time>
      
    </div>
</div>

    
<br>
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Archives</h1>
        
            <a href="https://cmhh.github.io/archives/2020">2020</a> (3)<br>
        
            <a href="https://cmhh.github.io/archives/2019">2019</a> (1)<br>
        
            <a href="https://cmhh.github.io/archives/2017">2017</a> (1)<br>
        
            <a href="https://cmhh.github.io/archives/2016">2016</a> (4)<br>
        
    </div>
</div>

    </div>
</div>


    </div>
</div>

<footer class="footer has-background-grey-darker has-text-white">
    <div class="content has-text-centered">
        <p>
            <span class="icon is-large"><a href="https://github.com/cmhh" class="mysocial" rel="me"><i class="fab fa-github fa-3x"></i></a></span>&nbsp;&nbsp;
            <span class="icon is-large"><a href="mailto://cmhhansen@outlook.com" class="mysocial" rel="me"><i class="fas fa-envelope fa-3x"></i></a></span>&nbsp;&nbsp;
            <br><br>
            Copyright &copy; cmhh 2020 - Theme by <a href="https://jeffprod.com" class="mysocial">JeffProd.com</a>
        </p>
    </div>
</footer>

<script defer src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script>
<script src="https://cmhh.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script src="//yihui.org/js/math-code.js"></script>
<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

</body>
</html>
