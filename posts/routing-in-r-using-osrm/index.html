<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-0.9.393">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Chris Hansen">
<meta name="dcterms.date" content="2016-11-27">
<meta name="description" content="I often find myself needing to establish the travel time or distance between arrays of addresses from R. Here we describe how we can use a local install of Open Source Routing Machine as a solution which is highly performant, and relatively easy to implement.">

<title>cmhh - Routing in R Using the Open Source Routing Machine (OSRM)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link id="quarto-text-highlighting-styles" href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<style>
    .quarto-title-banner {
      background-image: url(../../img/banner-2.jpg);
background-size: cover;
    }
    </style>
<script src="../../site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="../../site_libs/jquery-1.12.4/jquery.min.js"></script>
<link href="../../site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="../../site_libs/leaflet-1.3.1/leaflet.js"></script>
<link href="../../site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="../../site_libs/proj4-2.6.2/proj4.min.js"></script>
<script src="../../site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="../../site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="../../site_libs/leaflet-binding-2.1.1/leaflet.js"></script>


<link rel="stylesheet" href="../../css/styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">cmhh</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/cmhh"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Routing in R Using the Open Source Routing Machine (OSRM)</h1>
                          <div class="quarto-categories">
                <div class="quarto-category">R</div>
                <div class="quarto-category">geospatial</div>
                <div class="quarto-category">OSRM</div>
              </div>
                  </div>
  </div>
    
  <div>
    <div class="description">
      I often find myself needing to establish the travel time or distance between arrays of addresses from R. Here we describe how we can use a local install of Open Source Routing Machine as a solution which is highly performant, and relatively easy to implement.
    </div>
  </div>




  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Chris Hansen </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">November 27, 2016</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#prerequisites" id="toc-prerequisites" class="nav-link" data-scroll-target="#prerequisites">Prerequisites</a></li>
  <li><a href="#geocoding-addresses" id="toc-geocoding-addresses" class="nav-link" data-scroll-target="#geocoding-addresses">Geocoding addresses</a></li>
  <li><a href="#open-source-routing-machine-osrm" id="toc-open-source-routing-machine-osrm" class="nav-link" data-scroll-target="#open-source-routing-machine-osrm">Open Source Routing Machine (OSRM)</a></li>
  <li><a href="#using-leaflet-to-make-a-nicer-map" id="toc-using-leaflet-to-make-a-nicer-map" class="nav-link" data-scroll-target="#using-leaflet-to-make-a-nicer-map">Using <code>leaflet</code> to make a nicer map</a></li>
  </ul>
</nav>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<div class="cell" data-layout-align="center">

</div>
<section id="overview" class="level1">
<h1>Overview</h1>
<p><strong>Edit 2020-07-16</strong>: The original version of this post included a bespoke decoder for geometries encoded as Google polylines. The post has been updated to use the <code>googlePolylines</code> package instead.</p>
<p>I often find myself needing to establish the travel time or distance between arrays of addresses. In the past I have used ArcMap’s Network Analyst tool, but have found the syntax to be clunky at best, and the performance to be very mediocre. And, besides, I am often working in R and sometimes it’s nice to be able to do everything in the one environment, rather than doing the routing in Python, say, and then using the results in R.</p>
<p>The <a href="http://project-osrm.org/">open source routing machine</a> is a very fast routing engine which can be accessed via an <a href="https://github.com/Project-OSRM/osrm-backend/blob/master/docs/http.md">HTTP API</a>, which means it can be queried relatively easy from most languages, including R. And while public servers are available for use, it is also relatively easy to set up locally resulting in excellent throughput due to the lack of latency.</p>
</section>
<section id="prerequisites" class="level1">
<h1>Prerequisites</h1>
<p>The following R packages are required:</p>
<ul>
<li><code>rjson</code> for reading web service results in JSON format</li>
<li><code>bitops</code> used to decode polylines (has convenient bitshift operators, etc.)</li>
<li><code>sp</code> for spatial projections, etc.</li>
<li><code>leaflet</code> for rendering <a href="http://leafletjs.com/">leaflet</a> maps in a browser</li>
<li><code>googlePolylines</code> for converting routes returned from OSRM to <code>sp</code>-compatible paths</li>
</ul>
</section>
<section id="geocoding-addresses" class="level1">
<h1>Geocoding addresses</h1>
<p>The [Google Geocoding API](https://developers.google.com/maps/documentation/geocoding/] is used to geocode addresses. Usage is free, but the free license is limited to 2500 requests per day, at a rate no faster than 5 per second. There are free alternatives, but I’ve not found any that are satisfactorally accurate for New Zealand addresses. That said, interesting alternatives worth keeping an eye on are:</p>
<ul>
<li><a href="http://www.datasciencetoolkit.org/">data science toolkit</a> - doesn’t work at all for New Zealand</li>
<li><a href="http://wiki.openstreetmap.org/wiki/Nominatim">Nominatim</a> - finds addresses but probably only okay if approximate locations are acceptable.</li>
</ul>
<p>The following code results in two addresses being geocoded which we will use as an origin and a destination later when using a routing service.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rjson)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># use HERE API to geocode a start point...</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>get_location <span class="ot">&lt;-</span> <span class="cf">function</span>(</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  search_text,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">app_id =</span> params<span class="sc">$</span>app_id, </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">app_code =</span> params<span class="sc">$</span>app_code</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>) {</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  service <span class="ot">&lt;-</span> <span class="st">"https://geocoder.api.here.com/6.2/geocode.json"</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  query <span class="ot">&lt;-</span> <span class="fu">sprintf</span>(</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"%s?app_id=%s&amp;app_code=%s&amp;searchtext=%s"</span>,</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    service, app_id, app_code,</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gsub</span>(<span class="st">" "</span>, <span class="st">"%20"</span>, search_text, <span class="at">fixed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  res1 <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(query, <span class="at">simplifyVector =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  res2 <span class="ot">&lt;-</span> res1<span class="sc">$</span>Response<span class="sc">$</span>View[[<span class="dv">1</span>]]<span class="sc">$</span>Result[[<span class="dv">1</span>]]<span class="sc">$</span>Location</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">lng =</span> res2<span class="sc">$</span>DisplayPosition<span class="sc">$</span>Longitude, </span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">lat =</span> res2<span class="sc">$</span>DisplayPosition<span class="sc">$</span>Latitude, </span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">address =</span> res2<span class="sc">$</span>Address<span class="sc">$</span>Label</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="co"># start point...</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>(o <span class="ot">&lt;-</span> <span class="fu">get_location</span>(<span class="st">"25 Edelweiss Grove, Timberlea, Upper Hutt"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$lng
[1] 175.1085

$lat
[1] -41.10678

$address
[1] "25 Edelweiss Grv, Timberlea, Upper Hutt 5018, New Zealand"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ...and destination</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>(d <span class="ot">&lt;-</span> <span class="fu">get_location</span>(<span class="st">"1 Pipitea Street, Wellington"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$lng
[1] 174.7811

$lat
[1] -41.27568

$address
[1] "1 Pipitea St, Thorndon, Wellington 6011, New Zealand"</code></pre>
</div>
</div>
</section>
<section id="open-source-routing-machine-osrm" class="level1">
<h1>Open Source Routing Machine (OSRM)</h1>
<p><a href="http://project-osrm.org/">Open Source Routing Machine</a> is an open source route solver. It is written in C++ and runs on Linux (maybe other platforms, but stick with Linux), and is very fast. There is a nice web demo which uses the service as a back-end <a href="http://map.project-osrm.org">here</a>. The back-end service is available to the public at <a href="https://router.project-osrm.org">https://router.project-osrm.org</a>. Details, including usage policy, is available <a href="https://github.com/Project-OSRM/osrm-backend/wiki/API%20Usage%20Policy">here</a>.</p>
<p>The code below shows how to find a route between the origin and destination locations found above:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"https://router.project-osrm.org/route/v1/driving/"</span>,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  o<span class="sc">$</span>lng,<span class="st">","</span>,o<span class="sc">$</span>lat,<span class="st">";"</span>,d<span class="sc">$</span>lng,<span class="st">","</span>,d<span class="sc">$</span>lat,<span class="st">"?overview=full"</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>route <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(url, <span class="at">simplifyVector =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Again, assuming a route was successfully found, <code>route</code> will now contain a list including, among other things, time in seconds to traverse the route, distance in metres, and the route geometry stored in <a href="https://developers.google.com/maps/documentation/utilities/polylinealgorithm">encoded polyline algorithm format</a>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>route<span class="sc">$</span>routes[[<span class="dv">1</span>]]<span class="sc">$</span>duration</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1744.9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>route<span class="sc">$</span>routes[[<span class="dv">1</span>]]<span class="sc">$</span>distance</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 35344.3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>route<span class="sc">$</span>routes[[<span class="dv">1</span>]]<span class="sc">$</span>geometry</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "~t{yFozwk`@[hAo@rAOKMEOAO?MByBnBD^Tj@DNDVNNr@|APh@Lp@p@~DBVV\\V\\XVzB~A^RNDV@\\AfAOVCXBPFJFTPh@v@XLTBj@ALBLHLNNT|BzDfAhBFL@LALAJGLiBhCyAnBcChDMRIPSp@Mh@G\\E\\ET`BLhAFnBRn@D^Fd@Lf@PTJXPZRLJTVVZJJNVHPLTTb@P`@LNT`@Tl@HPFNHRXz@XbAZ`B`@xAXbATlANjAHd@FbAHrA@P@HJbBHzAL|AJxAHjAJjA@PTfC\\bDXhC\\dDZlC\\`DRjBd@jDNpALtAL`BBRB`@VjELzB?zAN`EL`DNpDH~AFpBHtBBhABjA@v@?fBAxACvAGbFAfA@`AB`ABt@H`EFnCLvCHhBHzFBz@Bn@@lABz@?jAAxAC|BOrG?`BCvDAjD?|E?pAAdLB~DFfDN~CRvCPrBPlBZbCZpB@JJZ\\~AjA~EHVFXPt@Z`An@hBv@lBjAjCp@tAl@lA`AdBfAbB~AdC|BnDpC~DfBjCz@rALZP^Tn@Dd@Jh@Dj@Bt@?l@Cl@EVMdAIlAErABjAJlALl@f@vAVl@Xh@`AhBn@rAZp@hAdDz@zCt@jC~DvNf@`B^lAvA`DVl@d@fAbAnB~@bBzA`CxDdGbDjEfC|DzBjDfBlCh@x@~@zAfAlBfAtB`AnB|@~BZ~@l@fBd@rA\\hAz@tC|@tCr@pBh@zA|@vBr@jBfAdCh@dAh@hAbAtBz@`Bl@rAbBzCr@xAp@|Ad@hAhAxCv@vBdA`Dj@zAd@dAr@dB|@nBr@xATb@p@hA~@zAfBlC`ClDhB~Bt@fAl@|@f@`Ad@x@\\v@Tl@d@pAf@bBH\\j@pBb@~An@zBj@lCt@jD`@hBbA`Dx@fCfBfF`@jA`@hAj@nAn@pAt@rA^l@bApAtBlCJNLNLNJLLNLLLNLLLLNLLLLLLJNLLJNJNLLJNHxCtBNJLJNJNJLLNJLLLJNLLLLLLLLLLNLLLNLLLNJNLNLNJNJNLPJNJNLPJPJNJPHPJPlNhWnCbFJRJRHPJRJRJRHRJRHRHRHRJTHRHTHRHTFRHTHTFRHTnBzGHTFTHTFTHTHRFTHTHRHTHRHTHRJRHTHRJRHRJRHRJRJRJPHRJRJPJRJPJRLPJPJRJPLPJPLPJPLNLPJPLNLPLNLPLNLNLNLNLNLNLNNNLLNNLNLLNLNNzDpDLLNLLLLLLNLLLNJLLNLLLNJNLNLNJNLNJPJNLNJPJNJPJN~DxGLNJPJPJNJPJNLPJNJPJNLNJPJNLNJNxHdKhBdCpBnCxB`DzAjClAfClB|Dv@vA`A|AjA|AvAbBtCnDpCbDfAzAbA`BnA`ChAbCt@~Av@xA|@|A|@nAn@t@|@`ArBxB|B|BvE|E|BhCvAxAfAlApA`BbBhCnCtErC`FbBtCv@|ApBnE|AnDlDfIvDrItAbD`ApBfB`DjBfDz@zAjArBr@hADJHLd@|@|@pBHNj@rAx@dBZl@Zl@rAfCx@|ApB~DvBpEvB|EpCxFpAxCBDLZjApCtC`HxBbFL\\N\\`@|@~@tBpAfCbApBl@pAl@pAl@zAl@zAXn@d@fA`AvB~ApDnCzFjD`HTb@N`@Vh@nAxCHNHTXt@^~@d@nAJZJVPj@|@`CnAfDnDjJpAjD`@bA^t@vBnDn@rAt@xA|AfDbA~Bz@xBt@dBdAbCf@pAjCjHxBzFv@~Bh@pAt@nAdAlBt@fA|@rAnAlB~BlDx@tAbCrDvA~Bn@dAbAzBr@rARf@^|@j@~Ah@vAh@zAXfAVv@ZdAZ~@h@xA\\z@\\`A`A`Cp@fBLd@j@|AZfAx@xCjApEhB|Gv@pCv@jCfCjHt@pBb@hAh@vAhAdDj@hBf@`B`@zAz@bDv@dDvAdG~AlHf@xBRbALx@Jz@Hx@Fv@Bp@BdA@`AAp@?VAX?HA^C\\C\\CXI|@Eb@CVA\\?T@XBVF^Lh@R|@^~ApCrL|AxG~AhH^`Bb@|AtAhD^dAZhATnATlAj@~CxBvMrAnIZdBXbA^bAl@tAp@dAv@~@|@x@nCbCh@l@^l@p@lAb@bAd@~A~@lE\\|A\\fAd@jAj@`A^h@`@f@`GvGlCrDlCtExG~M~IfR~ExH`ElIfFxKrBjElBjE`AnBpArCx@bBjAtBjAnBlBhCfBdC~@rAr@bAp@fAj@~@x@zAn@hAx@vAx@~A`AfBfBrDnArCdFbL~@pBj@lAn@dAj@|@b@n@j@n@v@|@`AbAt@~@h@r@dA|Av@xA`@|@`@bAlAvCj@`Bj@tB`@jBd@pCd@xCf@dCr@fCbAbDfBrFb@nAl@`Br@`BjAbCrBfDrAhBz@bA|@~@fAdAz@t@vApAv@t@h@h@f@n@^n@h@bA`@bAt@tBn@`B^`Ad@~@NXVZf@n@j@l@pCfCpDdDv@t@hIpJz@`AzAtA~AxAtIvHl@p@p@~@Zh@xFnIh@p@TRZLVFV?ZAp@Ox@ULGhAm@l@YtAs@ZQr@]BCj@YXOVMPInAo@BaDBqA?GAGAIFCDAB???"</code></pre>
</div>
</div>
<p>We then call a function to convert the encoded route to a <code>SpatialLines</code> object:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>path <span class="ot">&lt;-</span> googlePolylines<span class="sc">::</span><span class="fu">decode</span>(route<span class="sc">$</span>routes[[<span class="dv">1</span>]]<span class="sc">$</span>geometry)[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="index_files/figure-html/plot-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="using-leaflet-to-make-a-nicer-map" class="level1">
<h1>Using <code>leaflet</code> to make a nicer map</h1>
<p>It is relatively easy to make a nice interactive map. Here we draw a simple <a href="http://leafletjs.com/">leaflet</a> map, and overlay the origin and destination points, as well as the route between.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">#make a string to nicely label the route</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> route<span class="sc">$</span>routes[[<span class="dv">1</span>]]<span class="sc">$</span>duration</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>kms <span class="ot">&lt;-</span> <span class="fu">round</span>(route<span class="sc">$</span>routes[[<span class="dv">1</span>]]<span class="sc">$</span>distance<span class="sc">/</span><span class="dv">1000</span>, <span class="dv">1</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>routelabel <span class="ot">&lt;-</span> <span class="fu">paste0</span>(s<span class="sc">%/%</span><span class="dv">60</span>, <span class="st">"m "</span>, s<span class="sc">%%</span><span class="dv">60</span>, <span class="st">"s , "</span>, kms, <span class="st">"kms"</span>)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co">#create a basic map</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">leaflet</span>(<span class="at">width=</span><span class="st">"100%"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addTiles</span>()  <span class="sc">%&gt;%</span> </span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addPolylines</span>(</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">lng =</span> path<span class="sc">$</span>lon,</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">lat =</span> path<span class="sc">$</span>lat,</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">popup =</span> routelabel, </span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"#000000"</span>, </span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">opacity =</span> <span class="dv">1</span>, </span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight =</span> <span class="dv">3</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addMarkers</span>(<span class="at">lng=</span>o<span class="sc">$</span>lng, <span class="at">lat=</span>o<span class="sc">$</span>lat, <span class="at">popup=</span>o<span class="sc">$</span>address) <span class="sc">%&gt;%</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addMarkers</span>(<span class="at">lng=</span>d<span class="sc">$</span>lng, <span class="at">lat=</span>d<span class="sc">$</span>lat, <span class="at">popup=</span>d<span class="sc">$</span>address)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="htmlwidget-13f71013414c4c530e03" style="width:100%;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-13f71013414c4c530e03">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addPolylines","args":[[[[{"lng":[175.1083984375,175.108032226562,175.107620239258,175.107681274414,175.107711791992,175.107711791992,175.107711791992,175.107696533203,175.107131958008,175.106979370117,175.106750488281,175.106674194336,175.106552124023,175.106475830078,175.106002807617,175.10578918457,175.105560302734,175.104598999023,175.104476928711,175.104309082031,175.104156494141,175.104034423828,175.103561401367,175.103454589844,175.103439331055,175.103439331055,175.103439331055,175.103515625,175.103530883789,175.103515625,175.103469848633,175.103439331055,175.103363037109,175.103073120117,175.102996826172,175.102981567383,175.102996826172,175.102981567383,175.102920532227,175.102828979492,175.102722167969,175.101776123047,175.10124206543,175.101150512695,175.10107421875,175.100997924805,175.100936889648,175.100875854492,175.100189208984,175.099639892578,175.09880065918,175.098693847656,175.098602294922,175.098358154297,175.098159790039,175.097991943359,175.097839355469,175.097717285156,175.097640991211,175.097595214844,175.09748840332,175.097473144531,175.097442626953,175.097351074219,175.097274780273,175.097213745117,175.097122192383,175.097015380859,175.096954345703,175.096832275391,175.096694946289,175.096633911133,175.09651184082,175.096435546875,175.096313476562,175.096130371094,175.095962524414,175.09587097168,175.095718383789,175.095474243164,175.095397949219,175.095321655273,175.09521484375,175.094909667969,175.094573974609,175.09407043457,175.093643188477,175.093292236328,175.092910766602,175.092529296875,175.092361450195,175.092010498047,175.091598510742,175.091522216797,175.09147644043,175.090972900391,175.090515136719,175.090042114258,175.089599609375,175.089218139648,175.088836669922,175.088760375977,175.088073730469,175.087249755859,175.086563110352,175.085708618164,175.084991455078,175.084197998047,175.083648681641,175.082794189453,175.082397460938,175.081954956055,175.081481933594,175.08137512207,175.081192016602,175.080169677734,175.079559326172,175.0791015625,175.078109741211,175.07731628418,175.076431274414,175.075958251953,175.075393676758,175.074798583984,175.074432373047,175.07405090332,175.073776245117,175.073257446289,175.072799682617,175.072357177734,175.071212768555,175.070861816406,175.070510864258,175.070190429688,175.069915771484,175.068954467773,175.068237304688,175.067474365234,175.066955566406,175.065689086914,175.065399169922,175.065155029297,175.064758300781,175.064453125,175.064071655273,175.063629150391,175.06298828125,175.061614990234,175.061111450195,175.060195922852,175.059341430664,175.058242797852,175.057830810547,175.055709838867,175.054748535156,175.053909301758,175.053115844727,175.052352905273,175.051773071289,175.051239013672,175.050582885742,175.050003051758,175.049942016602,175.049789428711,175.04931640625,175.048202514648,175.048080444336,175.047958374023,175.047668457031,175.047348022461,175.046829223633,175.046279907227,175.04557800293,175.045150756836,175.04475402832,175.044235229492,175.043731689453,175.043075561523,175.042190551758,175.041229248047,175.040542602539,175.040115356445,175.039978027344,175.039810180664,175.039581298828,175.039398193359,175.039199829102,175.038970947266,175.038711547852,175.038482666016,175.038238525391,175.038116455078,175.037750244141,175.037353515625,175.03694152832,175.036560058594,175.036148071289,175.035919189453,175.03547668457,175.035232543945,175.035034179688,175.034515380859,175.034088134766,175.033828735352,175.032989501953,175.032211303711,175.031509399414,175.028991699219,175.028518676758,175.028121948242,175.027313232422,175.027069091797,175.026718139648,175.026153564453,175.025650024414,175.024993896484,175.023681640625,175.022659301758,175.021713256836,175.020858764648,175.020156860352,175.019882202148,175.019409179688,175.01887512207,175.018280029297,175.017715454102,175.017074584961,175.016754150391,175.016235351562,175.015808105469,175.015441894531,175.014678955078,175.013916015625,175.01335144043,175.012893676758,175.012298583984,175.011749267578,175.011077880859,175.010711669922,175.010360717773,175.009750366211,175.00927734375,175.008850097656,175.008071899414,175.007629394531,175.00715637207,175.006790161133,175.006042480469,175.005432128906,175.004638671875,175.004180908203,175.003829956055,175.003311157227,175.00276184082,175.002319335938,175.002136230469,175.001754760742,175.00129699707,175.000595092773,174.999710083008,174.999069213867,174.998718261719,174.998397827148,174.998077392578,174.997802734375,174.997512817383,174.997268676758,174.996871948242,174.996368408203,174.996231079102,174.995681762695,174.995193481445,174.994583129883,174.993881225586,174.993011474609,174.992477416992,174.991668701172,174.990997314453,174.989837646484,174.989456176758,174.989074707031,174.988677978516,174.98828125,174.987854003906,174.987640380859,174.987228393555,174.986511230469,174.986434936523,174.986358642578,174.986282348633,174.986190795898,174.986114501953,174.986038208008,174.985961914062,174.985870361328,174.985794067383,174.985717773438,174.985641479492,174.985549926758,174.985488891602,174.985443115234,174.985382080078,174.985321044922,174.985229492188,174.985168457031,174.985122680664,174.984512329102,174.984451293945,174.984390258789,174.984329223633,174.984268188477,174.984191894531,174.984130859375,174.984069824219,174.984008789062,174.983963012695,174.983871459961,174.983795166016,174.98371887207,174.983642578125,174.983551025391,174.983474731445,174.9833984375,174.983322143555,174.98323059082,174.983154296875,174.98307800293,174.983001708984,174.98291015625,174.982833862305,174.982757568359,174.982681274414,174.98258972168,174.982513427734,174.982437133789,174.982360839844,174.982269287109,174.982192993164,174.982116699219,174.978240966797,174.977096557617,174.976989746094,174.976898193359,174.976791381836,174.976699829102,174.976593017578,174.976501464844,174.97639465332,174.976303100586,174.976196289062,174.976089477539,174.975997924805,174.975875854492,174.975769042969,174.975677490234,174.975570678711,174.975479125977,174.975372314453,174.975280761719,174.975158691406,174.975051879883,174.974960327148,174.973541259766,174.973434448242,174.97331237793,174.973190307617,174.973068237305,174.972961425781,174.972854614258,174.972763061523,174.972640991211,174.972534179688,174.972442626953,174.97233581543,174.972229003906,174.972137451172,174.972030639648,174.971908569336,174.971817016602,174.971710205078,174.971618652344,174.97151184082,174.971420288086,174.971313476562,174.971221923828,174.971115112305,174.971008300781,174.970916748047,174.970840454102,174.970733642578,174.970642089844,174.97053527832,174.970428466797,174.970352172852,174.970260620117,174.970153808594,174.970077514648,174.970001220703,174.969909667969,174.969833374023,174.969757080078,174.969680786133,174.969589233398,174.969512939453,174.969436645508,174.969360351562,174.969268798828,174.969192504883,174.969116210938,174.969039916992,174.968948364258,174.968872070312,174.968795776367,174.968719482422,174.968643188477,174.968551635742,174.968475341797,174.968399047852,174.968322753906,174.968231201172,174.968154907227,174.967269897461,174.967193603516,174.96711730957,174.967041015625,174.966949462891,174.966873168945,174.966796875,174.966720581055,174.96662902832,174.966552734375,174.96647644043,174.966400146484,174.96630859375,174.966232299805,174.966156005859,174.966079711914,174.96598815918,174.965911865234,174.965835571289,174.965759277344,174.965682983398,174.965591430664,174.965515136719,174.965438842773,174.96403503418,174.963958740234,174.963882446289,174.963790893555,174.963714599609,174.963638305664,174.963562011719,174.963470458984,174.963394165039,174.963317871094,174.963241577148,174.963150024414,174.963073730469,174.962997436523,174.962921142578,174.962829589844,174.960876464844,174.960189819336,174.95947265625,174.958679199219,174.957977294922,174.957290649414,174.956359863281,174.955917358398,174.955429077148,174.954956054688,174.954452514648,174.953582763672,174.952758789062,174.952301025391,174.951797485352,174.951156616211,174.950500488281,174.950012207031,174.949554443359,174.949081420898,174.948669433594,174.948394775391,174.94807434082,174.947479248047,174.946838378906,174.945709228516,174.945037841797,174.944595336914,174.944198608398,174.943710327148,174.94303894043,174.941955566406,174.940841674805,174.940078735352,174.939590454102,174.938552856445,174.937683105469,174.93603515625,174.934341430664,174.933517456055,174.932952880859,174.932159423828,174.93132019043,174.930862426758,174.930282592773,174.929916381836,174.92985534668,174.929794311523,174.929473876953,174.928909301758,174.928833007812,174.928421020508,174.927917480469,174.927673339844,174.927429199219,174.9267578125,174.92626953125,174.925308227539,174.924270629883,174.923156738281,174.921920776367,174.921157836914,174.921112060547,174.920974731445,174.92024230957,174.918792724609,174.91764831543,174.917510986328,174.917358398438,174.917037963867,174.916442871094,174.915756225586,174.915191650391,174.914794921875,174.914398193359,174.913940429688,174.913482666016,174.913238525391,174.912872314453,174.91227722168,174.911392211914,174.910140991211,174.908676147461,174.908493041992,174.908309936523,174.908111572266,174.907348632812,174.907272338867,174.907150268555,174.906875610352,174.906555175781,174.906158447266,174.906021118164,174.905899047852,174.905670166016,174.905029296875,174.904190063477,174.902374267578,174.901519775391,174.901168823242,174.900909423828,174.900039672852,174.899612426758,174.899154663086,174.898315429688,174.897674560547,174.897079467773,174.896560668945,174.895889282227,174.895477294922,174.893981933594,174.892715454102,174.892074584961,174.891677856445,174.89128112793,174.890716552734,174.890350341797,174.889938354492,174.889389038086,174.888519287109,174.888076782227,174.887176513672,174.886535644531,174.886199951172,174.88557434082,174.885162353516,174.884948730469,174.884628295898,174.884155273438,174.883712768555,174.883255004883,174.882888793945,174.882614135742,174.882278442383,174.881958007812,174.88151550293,174.881210327148,174.880874633789,174.880233764648,174.87971496582,174.879516601562,174.879028320312,174.878677368164,174.877914428711,174.876876831055,174.875442504883,174.874710083008,174.874008178711,174.872512817383,174.871948242188,174.871597290039,174.871154785156,174.870315551758,174.86979675293,174.86930847168,174.868850708008,174.868041992188,174.867202758789,174.865875244141,174.864349365234,174.863754272461,174.863418579102,174.86311340332,174.862808227539,174.862518310547,174.862228393555,174.861999511719,174.861633300781,174.861312866211,174.861068725586,174.860961914062,174.86083984375,174.860794067383,174.860641479492,174.860473632812,174.860321044922,174.860198974609,174.859878540039,174.85969543457,174.859573364258,174.859436035156,174.859313964844,174.859191894531,174.859069824219,174.858917236328,174.85871887207,174.8583984375,174.85791015625,174.855728149414,174.854309082031,174.852828979492,174.852355957031,174.85188293457,174.851028442383,174.850677490234,174.850311279297,174.849914550781,174.849517822266,174.848709106445,174.84635925293,174.844680786133,174.844161987305,174.843811035156,174.843475341797,174.843032836914,174.842681884766,174.842361450195,174.842071533203,174.841415405273,174.841201782227,174.840957641602,174.840560913086,174.840209960938,174.839736938477,174.838714599609,174.838241577148,174.837875366211,174.837493896484,174.837158203125,174.836959838867,174.836761474609,174.835357666016,174.834457397461,174.833389282227,174.830993652344,174.827911376953,174.826354980469,174.824676513672,174.822631835938,174.82160949707,174.820602416992,174.820037841797,174.819290161133,174.818801879883,174.81819152832,174.817642211914,174.816955566406,174.816268920898,174.815856933594,174.815521240234,174.815155029297,174.814834594727,174.814376831055,174.813995361328,174.813552856445,174.813079833984,174.812561035156,174.811660766602,174.810913085938,174.808822631836,174.808242797852,174.807830810547,174.807479858398,174.807159423828,174.806915283203,174.806671142578,174.806350708008,174.806015014648,174.805694580078,174.805435180664,174.804962158203,174.80451965332,174.80419921875,174.803848266602,174.803100585938,174.802597045898,174.802001953125,174.801452636719,174.800720214844,174.799957275391,174.799270629883,174.798599243164,174.797775268555,174.79655456543,174.796157836914,174.795669555664,174.795196533203,174.794540405273,174.793701171875,174.793151855469,174.792816162109,174.792495727539,174.79216003418,174.791870117188,174.791473388672,174.791198730469,174.791000366211,174.790756225586,174.790512084961,174.790176391602,174.789840698242,174.78923034668,174.788757324219,174.788436889648,174.788116455078,174.787994384766,174.787857055664,174.787612915039,174.787399291992,174.786712646484,174.785873413086,174.785598754883,174.783752441406,174.783432006836,174.782989501953,174.782562255859,174.780990600586,174.78076171875,174.78044128418,174.780242919922,174.778549194336,174.7783203125,174.778213500977,174.77815246582,174.778121948242,174.778121948242,174.778121948242,174.778198242188,174.7783203125,174.778350830078,174.778594970703,174.778717041016,174.77897644043,174.779067993164,174.779235839844,174.779251098633,174.779388427734,174.779479980469,174.779556274414,174.779602050781,174.779830932617,174.780639648438,174.781036376953,174.78108215332,174.781112670898,174.781158447266,174.781173706055,174.781188964844,174.781188964844,174.781188964844],"lat":[-41.1068801879883,-41.1067390441895,-41.1064987182617,-41.1064186096191,-41.1063499450684,-41.1062698364258,-41.1061897277832,-41.1061172485352,-41.1055107116699,-41.1055374145508,-41.1056480407715,-41.1056785583496,-41.1057090759277,-41.1057891845703,-41.1060485839844,-41.1061401367188,-41.1062088012695,-41.1064605712891,-41.1064796447754,-41.1065979003906,-41.1067199707031,-41.1068496704102,-41.1074676513672,-41.1076278686523,-41.1077079772949,-41.1078300476074,-41.1079788208008,-41.1083374023438,-41.1084594726562,-41.1085891723633,-41.1086807250977,-41.1087379455566,-41.1088485717773,-41.109058380127,-41.109188079834,-41.1092987060547,-41.1095199584961,-41.1095886230469,-41.1096572875977,-41.1097297668457,-41.1098098754883,-41.1104393005371,-41.1107978820801,-41.11083984375,-41.1108474731445,-41.11083984375,-41.1108283996582,-41.1107902526855,-41.1102600097656,-41.1098098754883,-41.1091499328613,-41.1090774536133,-41.1090278625488,-41.1089286804199,-41.1088600158691,-41.1088180541992,-41.1087875366211,-41.1087608337402,-41.1092491149902,-41.109619140625,-41.110179901123,-41.1104202270508,-41.1105804443359,-41.110767364502,-41.110969543457,-41.1110801696777,-41.1112098693848,-41.1113471984863,-41.1114196777344,-41.1115303039551,-41.1116485595703,-41.1117095947266,-41.1117897033691,-41.1118392944336,-41.1119079589844,-41.1120185852051,-41.1121101379395,-41.1121788024902,-41.1122894287109,-41.1124000549316,-41.1124496459961,-41.1124877929688,-41.1125373840332,-41.1126670837402,-41.1128005981445,-41.1129379272461,-41.113109588623,-41.1132392883301,-41.1133499145508,-41.1134300231934,-41.1134796142578,-41.1135177612305,-41.1135673522949,-41.1135787963867,-41.1135902404785,-41.1136474609375,-41.1137008666992,-41.11376953125,-41.1138305664062,-41.1138801574707,-41.1139373779297,-41.1139488220215,-41.1140594482422,-41.1142082214355,-41.1143379211426,-41.1144905090332,-41.1146278381348,-41.1147804260254,-41.1148796081543,-41.1150703430176,-41.1151504516602,-41.1152191162109,-41.1152877807617,-41.1153106689453,-41.1153297424316,-41.1154479980469,-41.1155204772949,-41.1155204772949,-41.1156005859375,-41.1156692504883,-41.1157493591309,-41.1157989501953,-41.115837097168,-41.1158905029297,-41.115909576416,-41.1159286499023,-41.1159400939941,-41.1159400939941,-41.1159286499023,-41.115909576416,-41.1158676147461,-41.1158599853516,-41.1158676147461,-41.1158905029297,-41.115909576416,-41.1159591674805,-41.1159973144531,-41.1160697937012,-41.1161193847656,-41.1161689758301,-41.1161880493164,-41.1162071228027,-41.1162185668945,-41.1162376403809,-41.1162376403809,-41.1162300109863,-41.1162071228027,-41.1161308288574,-41.1161308288574,-41.1161079406738,-41.1161003112793,-41.1161003112793,-41.1161003112793,-41.1160888671875,-41.1161079406738,-41.1161499023438,-41.1162300109863,-41.1163291931152,-41.1164207458496,-41.1165084838867,-41.1166496276855,-41.1167907714844,-41.1167984008789,-41.1168594360352,-41.1170082092285,-41.1173896789551,-41.1174392700195,-41.1174774169922,-41.1175689697266,-41.1177101135254,-41.1179504394531,-41.1182289123535,-41.1186103820801,-41.1188583374023,-41.1190872192383,-41.1194190979004,-41.1197776794434,-41.1202583312988,-41.1208877563477,-41.1216201782227,-41.1221389770508,-41.1224403381348,-41.1225090026855,-41.1226005554199,-41.1227073669434,-41.1227378845215,-41.1227989196777,-41.1228294372559,-41.1228485107422,-41.1228485107422,-41.1228294372559,-41.1227989196777,-41.122730255127,-41.1226806640625,-41.1226501464844,-41.1226692199707,-41.122730255127,-41.1227989196777,-41.1229972839355,-41.123119354248,-41.1232490539551,-41.1235771179199,-41.1238174438477,-41.1239585876465,-41.1243286132812,-41.1246299743652,-41.1249008178711,-41.1258583068848,-41.1260604858398,-41.126220703125,-41.1266593933105,-41.1267776489258,-41.1269683837891,-41.1273078918457,-41.127628326416,-41.1280899047852,-41.129020690918,-41.1298408508301,-41.1305198669434,-41.1311378479004,-41.1316604614258,-41.1318702697754,-41.1321907043457,-41.1325492858887,-41.1329078674316,-41.1332397460938,-41.1335487365723,-41.1336898803711,-41.133918762207,-41.1341094970703,-41.1342582702637,-41.1345596313477,-41.1348686218262,-41.1351280212402,-41.1353378295898,-41.1356506347656,-41.1359100341797,-41.1362686157227,-41.1364784240723,-41.1366882324219,-41.1370277404785,-41.1373291015625,-41.1375579833984,-41.1380577087402,-41.1383171081543,-41.1385688781738,-41.1387596130371,-41.1391296386719,-41.1394081115723,-41.1397590637207,-41.1399803161621,-41.1401672363281,-41.1404304504395,-41.140739440918,-41.140998840332,-41.1411094665527,-41.141357421875,-41.1416778564453,-41.1422004699707,-41.1428489685059,-41.1433792114258,-41.1436500549316,-41.1438789367676,-41.1440773010254,-41.1442680358887,-41.1444206237793,-41.1445274353027,-41.144718170166,-41.1449203491211,-41.1449699401855,-41.1451873779297,-41.1453704833984,-41.1456108093262,-41.1458282470703,-41.1460990905762,-41.1462707519531,-41.1466102600098,-41.146900177002,-41.1474189758301,-41.147590637207,-41.1477584838867,-41.1479797363281,-41.1482200622559,-41.1484870910645,-41.1486473083496,-41.1489906311035,-41.1495780944824,-41.1496391296387,-41.1497077941895,-41.1497802734375,-41.1498374938965,-41.1499099731445,-41.1499786376953,-41.1500473022461,-41.1501197814941,-41.1501884460449,-41.1502685546875,-41.1503372192383,-41.1504096984863,-41.1504783630371,-41.1505584716797,-41.1506271362305,-41.150707244873,-41.1507873535156,-41.1508598327637,-41.1509399414062,-41.1517105102539,-41.1517906188965,-41.1518592834473,-41.1519393920898,-41.1520195007324,-41.1520881652832,-41.1521682739258,-41.1522407531738,-41.1523094177246,-41.1523895263672,-41.152458190918,-41.152530670166,-41.1525993347168,-41.1526679992676,-41.1527404785156,-41.1528091430664,-41.1528778076172,-41.1529502868652,-41.153018951416,-41.1530799865723,-41.153148651123,-41.1532173156738,-41.1532783508301,-41.1533393859863,-41.1534080505371,-41.1534690856934,-41.1535301208496,-41.1535987854004,-41.1536598205566,-41.1537208557129,-41.1537780761719,-41.1538276672363,-41.1538887023926,-41.1563606262207,-41.1570777893066,-41.1571388244629,-41.1571998596191,-41.1572494506836,-41.1573104858398,-41.1573677062988,-41.1574287414551,-41.1574783325195,-41.1575393676758,-41.1575889587402,-41.1576385498047,-41.1576881408691,-41.1577491760254,-41.1577987670898,-41.1578483581543,-41.1578979492188,-41.1579475402832,-41.1579895019531,-41.1580390930176,-41.158088684082,-41.158130645752,-41.1581802368164,-41.1587371826172,-41.1587905883789,-41.1588287353516,-41.158878326416,-41.1589202880859,-41.1589698791504,-41.1590194702148,-41.1590576171875,-41.159107208252,-41.1591606140137,-41.1592102050781,-41.1592597961426,-41.159309387207,-41.1593589782715,-41.1594200134277,-41.1594696044922,-41.1595191955566,-41.1595802307129,-41.1596298217773,-41.1596908569336,-41.159740447998,-41.159797668457,-41.1598587036133,-41.1599197387695,-41.159969329834,-41.1600303649902,-41.1600875854492,-41.1601486206055,-41.1602096557617,-41.160270690918,-41.1603393554688,-41.160400390625,-41.160457611084,-41.1605186462402,-41.160587310791,-41.1606483459473,-41.1607208251953,-41.1607780456543,-41.1608505249023,-41.1609191894531,-41.1609802246094,-41.1610488891602,-41.1611175537109,-41.161190032959,-41.1612586975098,-41.1613273620605,-41.1613998413086,-41.1614685058594,-41.1615371704102,-41.1616096496582,-41.161678314209,-41.161750793457,-41.1618270874023,-41.1618995666504,-41.161979675293,-41.1620483398438,-41.1621208190918,-41.1621971130371,-41.1622772216797,-41.1632194519043,-41.1632881164551,-41.1633682250977,-41.1634407043457,-41.1635093688965,-41.1635780334473,-41.1636505126953,-41.1637191772461,-41.1637802124023,-41.1638488769531,-41.1639175415039,-41.163990020752,-41.1640472412109,-41.164119720459,-41.1641883850098,-41.164249420166,-41.1643180847168,-41.164379119873,-41.1644401550293,-41.1645088195801,-41.1645698547363,-41.1646270751953,-41.1646881103516,-41.1647491455078,-41.1657104492188,-41.1657791137695,-41.1658401489258,-41.1658973693848,-41.165958404541,-41.1660194396973,-41.1660804748535,-41.1661491394043,-41.1662101745605,-41.1662673950195,-41.1663284301758,-41.1663970947266,-41.1664581298828,-41.1665191650391,-41.1665878295898,-41.1666488647461,-41.1682205200195,-41.1687507629395,-41.169319152832,-41.1699295043945,-41.1703872680664,-41.1707801818848,-41.171329498291,-41.1716079711914,-41.1719398498535,-41.1723175048828,-41.1727600097656,-41.1735076904297,-41.1742401123047,-41.1745986938477,-41.1749382019043,-41.1753387451172,-41.175708770752,-41.1759796142578,-41.1762580871582,-41.1765670776367,-41.1768798828125,-41.1771202087402,-41.1774291992188,-41.1780090332031,-41.178638458252,-41.1797180175781,-41.180347442627,-41.1807899475098,-41.1811485290527,-41.1815605163574,-41.1820602416992,-41.1827774047852,-41.1835174560547,-41.1840171813965,-41.1842994689941,-41.1848678588867,-41.1853370666504,-41.1862106323242,-41.1871299743652,-41.187557220459,-41.1878890991211,-41.1884078979492,-41.1889495849609,-41.1892471313477,-41.1896286010742,-41.1898880004883,-41.1899185180664,-41.1899681091309,-41.1901588439941,-41.1904678344727,-41.1905174255371,-41.1907386779785,-41.1910285949707,-41.1911697387695,-41.1913070678711,-41.1917304992676,-41.1920204162598,-41.1925888061523,-41.193187713623,-41.193790435791,-41.1945190429688,-41.1949272155762,-41.1949501037598,-41.1950187683105,-41.1954002380371,-41.1961479187012,-41.1967582702637,-41.1968307495117,-41.1969108581543,-41.197078704834,-41.1973991394043,-41.1978073120117,-41.1981506347656,-41.1983795166016,-41.1986083984375,-41.1988372802734,-41.1990699768066,-41.1991996765137,-41.199390411377,-41.1997184753418,-41.2001991271973,-41.2009201049805,-41.2017784118652,-41.2018890380859,-41.2019691467285,-41.2020874023438,-41.2024879455566,-41.2025375366211,-41.2025871276855,-41.2027206420898,-41.202880859375,-41.203067779541,-41.2031288146973,-41.2031898498535,-41.2032775878906,-41.2035903930664,-41.203987121582,-41.2048683166504,-41.2052803039551,-41.2054481506348,-41.2056083679199,-41.2062072753906,-41.2064476013184,-41.2067184448242,-41.2071876525879,-41.2075271606445,-41.2078285217285,-41.2080993652344,-41.2084503173828,-41.2086486816406,-41.2093505859375,-41.2099571228027,-41.2102394104004,-41.21044921875,-41.2107200622559,-41.211067199707,-41.2113380432129,-41.2116508483887,-41.2120475769043,-41.2126884460449,-41.2129783630371,-41.2136383056641,-41.2140808105469,-41.2143173217773,-41.2146606445312,-41.2149200439453,-41.2150192260742,-41.2151794433594,-41.2154006958008,-41.2156105041504,-41.2158203125,-41.215950012207,-41.2160682678223,-41.2162094116211,-41.2163505554199,-41.2165603637695,-41.2167091369629,-41.2168579101562,-41.2171897888184,-41.2174377441406,-41.2175102233887,-41.2177276611328,-41.2178688049316,-41.2181587219238,-41.2185401916504,-41.2190704345703,-41.2193489074707,-41.2196273803711,-41.2203102111816,-41.2205772399902,-41.220760345459,-41.2209701538086,-41.2213401794434,-41.2215576171875,-41.2217597961426,-41.2219276428223,-41.2222290039062,-41.2225074768066,-41.2229499816895,-41.2234306335449,-41.2236289978027,-41.2237281799316,-41.2238006591797,-41.2238578796387,-41.2239074707031,-41.223949432373,-41.2239685058594,-41.2239875793457,-41.2239990234375,-41.2239875793457,-41.2239875793457,-41.2239799499512,-41.2239799499512,-41.2239685058594,-41.223949432373,-41.2239303588867,-41.2239074707031,-41.2238578796387,-41.2238273620605,-41.2238082885742,-41.2238006591797,-41.2238006591797,-41.2238082885742,-41.2238273620605,-41.2238693237305,-41.2239379882812,-41.2240371704102,-41.2241973876953,-41.2249298095703,-41.225399017334,-41.2258796691895,-41.2260398864746,-41.2262191772461,-41.2266502380371,-41.2268104553223,-41.2269477844238,-41.2270584106445,-41.2271690368652,-41.2273902893066,-41.2280006408691,-41.2284202575684,-41.2285575866699,-41.228687286377,-41.2288475036621,-41.2290802001953,-41.2293281555176,-41.2296104431152,-41.2299194335938,-41.230640411377,-41.2308502197266,-41.2310104370117,-41.231258392334,-41.2314376831055,-41.2316284179688,-41.2319488525391,-41.2320976257324,-41.232250213623,-41.2324371337891,-41.2326583862305,-41.2328186035156,-41.2329902648926,-41.2342796325684,-41.2349891662598,-41.2356986999512,-41.2371101379395,-41.2388687133789,-41.239990234375,-41.2409591674805,-41.2421188354492,-41.2426986694336,-41.2432479858398,-41.243579864502,-41.2439880371094,-41.2442779541016,-41.2446594238281,-41.2450370788574,-41.2455902099609,-41.2461090087891,-41.2464294433594,-41.2466888427734,-41.246940612793,-41.2471580505371,-41.2474479675293,-41.247688293457,-41.2479782104492,-41.2482681274414,-41.2486000061035,-41.2491188049316,-41.2495193481445,-41.2506675720215,-41.2509880065918,-41.2512092590332,-41.2514495849609,-41.2516708374023,-41.2518501281738,-41.252067565918,-41.2523498535156,-41.2526779174805,-41.2529487609863,-41.2531585693359,-41.2535095214844,-41.2537879943848,-41.2539596557617,-41.2541275024414,-41.2545204162598,-41.2547378540039,-41.2549591064453,-41.2551307678223,-41.2553176879883,-41.2555084228516,-41.2557106018066,-41.2559700012207,-41.2563095092773,-41.2568283081055,-41.257007598877,-41.2572402954102,-41.2574996948242,-41.2578773498535,-41.2584571838379,-41.2588806152344,-41.2591781616211,-41.2594871520996,-41.2598495483398,-41.2601470947266,-41.2605895996094,-41.2608680725098,-41.2610778808594,-41.2612800598145,-41.2614402770996,-41.2616500854492,-41.2618179321289,-41.2620887756348,-41.2623291015625,-41.2624893188477,-41.2626800537109,-41.2627601623535,-41.2628784179688,-41.2630805969238,-41.263298034668,-41.264030456543,-41.2649192810059,-41.2651977539062,-41.2668495178223,-41.267147064209,-41.2676086425781,-41.2680892944336,-41.2697982788086,-41.2700271606445,-41.2702789306641,-41.2704200744629,-41.2716674804688,-41.2718772888184,-41.2719879150391,-41.2721290588379,-41.2722473144531,-41.2723693847656,-41.2725105285645,-41.2727584838867,-41.2730484008789,-41.2731170654297,-41.2734870910645,-41.2737197875977,-41.2741508483887,-41.2742881774902,-41.2745475769043,-41.2745704650879,-41.274787902832,-41.2749176025391,-41.2750396728516,-41.2751274108887,-41.2755279541016,-41.2755508422852,-41.2755699157715,-41.2755699157715,-41.2755584716797,-41.2755508422852,-41.2755889892578,-41.2756195068359,-41.2756385803223,-41.2756385803223]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#000000","weight":3,"opacity":1,"fill":false,"fillColor":"#000000","fillOpacity":0.2,"smoothFactor":1,"noClip":false},"29m 4.90000000000009s , 35.3kms",null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[-41.10678,175.10847,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"25 Edelweiss Grv, Timberlea, Upper Hutt 5018, New Zealand",null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[-41.27568,174.78112,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"1 Pipitea St, Thorndon, Wellington 6011, New Zealand",null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-41.27568,-41.1055107116699],"lng":[174.778121948242,175.10847]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>It’s also relatively straight forward to use different base maps, and a nice demo of some other providers can be found <a href="http://leaflet-extras.github.io/leaflet-providers/preview/">here</a>. For example:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(leaflet)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">leaflet</span>(<span class="at">width=</span><span class="st">"100%"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addTiles</span>(</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">urlTemplate=</span><span class="st">'https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png'</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">attribution =</span> <span class="fu">sprintf</span>(</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Map tiles by %s"</span>, </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">'&lt;a href="http://stamen.com"&gt;Stamen Design&lt;/a&gt;'</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addTiles</span>(</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">urlTemplate =</span> <span class="st">'https://stamen-tiles-{s}.a.ssl.fastly.net/toner-hybrid/{z}/{x}/{y}{r}.png'</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addPolylines</span>(</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">lng =</span> path<span class="sc">$</span>lon,</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">lat =</span> path<span class="sc">$</span>lat,</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">popup=</span>routelabel, </span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"#000000"</span>, </span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">opacity =</span> <span class="dv">1</span>, </span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight =</span> <span class="dv">3</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addMarkers</span>(<span class="at">lng =</span> o<span class="sc">$</span>lng, <span class="at">lat =</span> o<span class="sc">$</span>lat, <span class="at">popup =</span> o<span class="sc">$</span>address) <span class="sc">%&gt;%</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addMarkers</span>(<span class="at">lng =</span> d<span class="sc">$</span>lng, <span class="at">lat =</span> d<span class="sc">$</span>lat, <span class="at">popup =</span> d<span class="sc">$</span>address)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-34e5f041a32ea75cc34e" style="width:100%;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-34e5f041a32ea75cc34e">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"Map tiles by <a href=\"http://stamen.com\">Stamen Design<\/a>"}]},{"method":"addTiles","args":["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-hybrid/{z}/{x}/{y}{r}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false}]},{"method":"addPolylines","args":[[[[{"lng":[175.1083984375,175.108032226562,175.107620239258,175.107681274414,175.107711791992,175.107711791992,175.107711791992,175.107696533203,175.107131958008,175.106979370117,175.106750488281,175.106674194336,175.106552124023,175.106475830078,175.106002807617,175.10578918457,175.105560302734,175.104598999023,175.104476928711,175.104309082031,175.104156494141,175.104034423828,175.103561401367,175.103454589844,175.103439331055,175.103439331055,175.103439331055,175.103515625,175.103530883789,175.103515625,175.103469848633,175.103439331055,175.103363037109,175.103073120117,175.102996826172,175.102981567383,175.102996826172,175.102981567383,175.102920532227,175.102828979492,175.102722167969,175.101776123047,175.10124206543,175.101150512695,175.10107421875,175.100997924805,175.100936889648,175.100875854492,175.100189208984,175.099639892578,175.09880065918,175.098693847656,175.098602294922,175.098358154297,175.098159790039,175.097991943359,175.097839355469,175.097717285156,175.097640991211,175.097595214844,175.09748840332,175.097473144531,175.097442626953,175.097351074219,175.097274780273,175.097213745117,175.097122192383,175.097015380859,175.096954345703,175.096832275391,175.096694946289,175.096633911133,175.09651184082,175.096435546875,175.096313476562,175.096130371094,175.095962524414,175.09587097168,175.095718383789,175.095474243164,175.095397949219,175.095321655273,175.09521484375,175.094909667969,175.094573974609,175.09407043457,175.093643188477,175.093292236328,175.092910766602,175.092529296875,175.092361450195,175.092010498047,175.091598510742,175.091522216797,175.09147644043,175.090972900391,175.090515136719,175.090042114258,175.089599609375,175.089218139648,175.088836669922,175.088760375977,175.088073730469,175.087249755859,175.086563110352,175.085708618164,175.084991455078,175.084197998047,175.083648681641,175.082794189453,175.082397460938,175.081954956055,175.081481933594,175.08137512207,175.081192016602,175.080169677734,175.079559326172,175.0791015625,175.078109741211,175.07731628418,175.076431274414,175.075958251953,175.075393676758,175.074798583984,175.074432373047,175.07405090332,175.073776245117,175.073257446289,175.072799682617,175.072357177734,175.071212768555,175.070861816406,175.070510864258,175.070190429688,175.069915771484,175.068954467773,175.068237304688,175.067474365234,175.066955566406,175.065689086914,175.065399169922,175.065155029297,175.064758300781,175.064453125,175.064071655273,175.063629150391,175.06298828125,175.061614990234,175.061111450195,175.060195922852,175.059341430664,175.058242797852,175.057830810547,175.055709838867,175.054748535156,175.053909301758,175.053115844727,175.052352905273,175.051773071289,175.051239013672,175.050582885742,175.050003051758,175.049942016602,175.049789428711,175.04931640625,175.048202514648,175.048080444336,175.047958374023,175.047668457031,175.047348022461,175.046829223633,175.046279907227,175.04557800293,175.045150756836,175.04475402832,175.044235229492,175.043731689453,175.043075561523,175.042190551758,175.041229248047,175.040542602539,175.040115356445,175.039978027344,175.039810180664,175.039581298828,175.039398193359,175.039199829102,175.038970947266,175.038711547852,175.038482666016,175.038238525391,175.038116455078,175.037750244141,175.037353515625,175.03694152832,175.036560058594,175.036148071289,175.035919189453,175.03547668457,175.035232543945,175.035034179688,175.034515380859,175.034088134766,175.033828735352,175.032989501953,175.032211303711,175.031509399414,175.028991699219,175.028518676758,175.028121948242,175.027313232422,175.027069091797,175.026718139648,175.026153564453,175.025650024414,175.024993896484,175.023681640625,175.022659301758,175.021713256836,175.020858764648,175.020156860352,175.019882202148,175.019409179688,175.01887512207,175.018280029297,175.017715454102,175.017074584961,175.016754150391,175.016235351562,175.015808105469,175.015441894531,175.014678955078,175.013916015625,175.01335144043,175.012893676758,175.012298583984,175.011749267578,175.011077880859,175.010711669922,175.010360717773,175.009750366211,175.00927734375,175.008850097656,175.008071899414,175.007629394531,175.00715637207,175.006790161133,175.006042480469,175.005432128906,175.004638671875,175.004180908203,175.003829956055,175.003311157227,175.00276184082,175.002319335938,175.002136230469,175.001754760742,175.00129699707,175.000595092773,174.999710083008,174.999069213867,174.998718261719,174.998397827148,174.998077392578,174.997802734375,174.997512817383,174.997268676758,174.996871948242,174.996368408203,174.996231079102,174.995681762695,174.995193481445,174.994583129883,174.993881225586,174.993011474609,174.992477416992,174.991668701172,174.990997314453,174.989837646484,174.989456176758,174.989074707031,174.988677978516,174.98828125,174.987854003906,174.987640380859,174.987228393555,174.986511230469,174.986434936523,174.986358642578,174.986282348633,174.986190795898,174.986114501953,174.986038208008,174.985961914062,174.985870361328,174.985794067383,174.985717773438,174.985641479492,174.985549926758,174.985488891602,174.985443115234,174.985382080078,174.985321044922,174.985229492188,174.985168457031,174.985122680664,174.984512329102,174.984451293945,174.984390258789,174.984329223633,174.984268188477,174.984191894531,174.984130859375,174.984069824219,174.984008789062,174.983963012695,174.983871459961,174.983795166016,174.98371887207,174.983642578125,174.983551025391,174.983474731445,174.9833984375,174.983322143555,174.98323059082,174.983154296875,174.98307800293,174.983001708984,174.98291015625,174.982833862305,174.982757568359,174.982681274414,174.98258972168,174.982513427734,174.982437133789,174.982360839844,174.982269287109,174.982192993164,174.982116699219,174.978240966797,174.977096557617,174.976989746094,174.976898193359,174.976791381836,174.976699829102,174.976593017578,174.976501464844,174.97639465332,174.976303100586,174.976196289062,174.976089477539,174.975997924805,174.975875854492,174.975769042969,174.975677490234,174.975570678711,174.975479125977,174.975372314453,174.975280761719,174.975158691406,174.975051879883,174.974960327148,174.973541259766,174.973434448242,174.97331237793,174.973190307617,174.973068237305,174.972961425781,174.972854614258,174.972763061523,174.972640991211,174.972534179688,174.972442626953,174.97233581543,174.972229003906,174.972137451172,174.972030639648,174.971908569336,174.971817016602,174.971710205078,174.971618652344,174.97151184082,174.971420288086,174.971313476562,174.971221923828,174.971115112305,174.971008300781,174.970916748047,174.970840454102,174.970733642578,174.970642089844,174.97053527832,174.970428466797,174.970352172852,174.970260620117,174.970153808594,174.970077514648,174.970001220703,174.969909667969,174.969833374023,174.969757080078,174.969680786133,174.969589233398,174.969512939453,174.969436645508,174.969360351562,174.969268798828,174.969192504883,174.969116210938,174.969039916992,174.968948364258,174.968872070312,174.968795776367,174.968719482422,174.968643188477,174.968551635742,174.968475341797,174.968399047852,174.968322753906,174.968231201172,174.968154907227,174.967269897461,174.967193603516,174.96711730957,174.967041015625,174.966949462891,174.966873168945,174.966796875,174.966720581055,174.96662902832,174.966552734375,174.96647644043,174.966400146484,174.96630859375,174.966232299805,174.966156005859,174.966079711914,174.96598815918,174.965911865234,174.965835571289,174.965759277344,174.965682983398,174.965591430664,174.965515136719,174.965438842773,174.96403503418,174.963958740234,174.963882446289,174.963790893555,174.963714599609,174.963638305664,174.963562011719,174.963470458984,174.963394165039,174.963317871094,174.963241577148,174.963150024414,174.963073730469,174.962997436523,174.962921142578,174.962829589844,174.960876464844,174.960189819336,174.95947265625,174.958679199219,174.957977294922,174.957290649414,174.956359863281,174.955917358398,174.955429077148,174.954956054688,174.954452514648,174.953582763672,174.952758789062,174.952301025391,174.951797485352,174.951156616211,174.950500488281,174.950012207031,174.949554443359,174.949081420898,174.948669433594,174.948394775391,174.94807434082,174.947479248047,174.946838378906,174.945709228516,174.945037841797,174.944595336914,174.944198608398,174.943710327148,174.94303894043,174.941955566406,174.940841674805,174.940078735352,174.939590454102,174.938552856445,174.937683105469,174.93603515625,174.934341430664,174.933517456055,174.932952880859,174.932159423828,174.93132019043,174.930862426758,174.930282592773,174.929916381836,174.92985534668,174.929794311523,174.929473876953,174.928909301758,174.928833007812,174.928421020508,174.927917480469,174.927673339844,174.927429199219,174.9267578125,174.92626953125,174.925308227539,174.924270629883,174.923156738281,174.921920776367,174.921157836914,174.921112060547,174.920974731445,174.92024230957,174.918792724609,174.91764831543,174.917510986328,174.917358398438,174.917037963867,174.916442871094,174.915756225586,174.915191650391,174.914794921875,174.914398193359,174.913940429688,174.913482666016,174.913238525391,174.912872314453,174.91227722168,174.911392211914,174.910140991211,174.908676147461,174.908493041992,174.908309936523,174.908111572266,174.907348632812,174.907272338867,174.907150268555,174.906875610352,174.906555175781,174.906158447266,174.906021118164,174.905899047852,174.905670166016,174.905029296875,174.904190063477,174.902374267578,174.901519775391,174.901168823242,174.900909423828,174.900039672852,174.899612426758,174.899154663086,174.898315429688,174.897674560547,174.897079467773,174.896560668945,174.895889282227,174.895477294922,174.893981933594,174.892715454102,174.892074584961,174.891677856445,174.89128112793,174.890716552734,174.890350341797,174.889938354492,174.889389038086,174.888519287109,174.888076782227,174.887176513672,174.886535644531,174.886199951172,174.88557434082,174.885162353516,174.884948730469,174.884628295898,174.884155273438,174.883712768555,174.883255004883,174.882888793945,174.882614135742,174.882278442383,174.881958007812,174.88151550293,174.881210327148,174.880874633789,174.880233764648,174.87971496582,174.879516601562,174.879028320312,174.878677368164,174.877914428711,174.876876831055,174.875442504883,174.874710083008,174.874008178711,174.872512817383,174.871948242188,174.871597290039,174.871154785156,174.870315551758,174.86979675293,174.86930847168,174.868850708008,174.868041992188,174.867202758789,174.865875244141,174.864349365234,174.863754272461,174.863418579102,174.86311340332,174.862808227539,174.862518310547,174.862228393555,174.861999511719,174.861633300781,174.861312866211,174.861068725586,174.860961914062,174.86083984375,174.860794067383,174.860641479492,174.860473632812,174.860321044922,174.860198974609,174.859878540039,174.85969543457,174.859573364258,174.859436035156,174.859313964844,174.859191894531,174.859069824219,174.858917236328,174.85871887207,174.8583984375,174.85791015625,174.855728149414,174.854309082031,174.852828979492,174.852355957031,174.85188293457,174.851028442383,174.850677490234,174.850311279297,174.849914550781,174.849517822266,174.848709106445,174.84635925293,174.844680786133,174.844161987305,174.843811035156,174.843475341797,174.843032836914,174.842681884766,174.842361450195,174.842071533203,174.841415405273,174.841201782227,174.840957641602,174.840560913086,174.840209960938,174.839736938477,174.838714599609,174.838241577148,174.837875366211,174.837493896484,174.837158203125,174.836959838867,174.836761474609,174.835357666016,174.834457397461,174.833389282227,174.830993652344,174.827911376953,174.826354980469,174.824676513672,174.822631835938,174.82160949707,174.820602416992,174.820037841797,174.819290161133,174.818801879883,174.81819152832,174.817642211914,174.816955566406,174.816268920898,174.815856933594,174.815521240234,174.815155029297,174.814834594727,174.814376831055,174.813995361328,174.813552856445,174.813079833984,174.812561035156,174.811660766602,174.810913085938,174.808822631836,174.808242797852,174.807830810547,174.807479858398,174.807159423828,174.806915283203,174.806671142578,174.806350708008,174.806015014648,174.805694580078,174.805435180664,174.804962158203,174.80451965332,174.80419921875,174.803848266602,174.803100585938,174.802597045898,174.802001953125,174.801452636719,174.800720214844,174.799957275391,174.799270629883,174.798599243164,174.797775268555,174.79655456543,174.796157836914,174.795669555664,174.795196533203,174.794540405273,174.793701171875,174.793151855469,174.792816162109,174.792495727539,174.79216003418,174.791870117188,174.791473388672,174.791198730469,174.791000366211,174.790756225586,174.790512084961,174.790176391602,174.789840698242,174.78923034668,174.788757324219,174.788436889648,174.788116455078,174.787994384766,174.787857055664,174.787612915039,174.787399291992,174.786712646484,174.785873413086,174.785598754883,174.783752441406,174.783432006836,174.782989501953,174.782562255859,174.780990600586,174.78076171875,174.78044128418,174.780242919922,174.778549194336,174.7783203125,174.778213500977,174.77815246582,174.778121948242,174.778121948242,174.778121948242,174.778198242188,174.7783203125,174.778350830078,174.778594970703,174.778717041016,174.77897644043,174.779067993164,174.779235839844,174.779251098633,174.779388427734,174.779479980469,174.779556274414,174.779602050781,174.779830932617,174.780639648438,174.781036376953,174.78108215332,174.781112670898,174.781158447266,174.781173706055,174.781188964844,174.781188964844,174.781188964844],"lat":[-41.1068801879883,-41.1067390441895,-41.1064987182617,-41.1064186096191,-41.1063499450684,-41.1062698364258,-41.1061897277832,-41.1061172485352,-41.1055107116699,-41.1055374145508,-41.1056480407715,-41.1056785583496,-41.1057090759277,-41.1057891845703,-41.1060485839844,-41.1061401367188,-41.1062088012695,-41.1064605712891,-41.1064796447754,-41.1065979003906,-41.1067199707031,-41.1068496704102,-41.1074676513672,-41.1076278686523,-41.1077079772949,-41.1078300476074,-41.1079788208008,-41.1083374023438,-41.1084594726562,-41.1085891723633,-41.1086807250977,-41.1087379455566,-41.1088485717773,-41.109058380127,-41.109188079834,-41.1092987060547,-41.1095199584961,-41.1095886230469,-41.1096572875977,-41.1097297668457,-41.1098098754883,-41.1104393005371,-41.1107978820801,-41.11083984375,-41.1108474731445,-41.11083984375,-41.1108283996582,-41.1107902526855,-41.1102600097656,-41.1098098754883,-41.1091499328613,-41.1090774536133,-41.1090278625488,-41.1089286804199,-41.1088600158691,-41.1088180541992,-41.1087875366211,-41.1087608337402,-41.1092491149902,-41.109619140625,-41.110179901123,-41.1104202270508,-41.1105804443359,-41.110767364502,-41.110969543457,-41.1110801696777,-41.1112098693848,-41.1113471984863,-41.1114196777344,-41.1115303039551,-41.1116485595703,-41.1117095947266,-41.1117897033691,-41.1118392944336,-41.1119079589844,-41.1120185852051,-41.1121101379395,-41.1121788024902,-41.1122894287109,-41.1124000549316,-41.1124496459961,-41.1124877929688,-41.1125373840332,-41.1126670837402,-41.1128005981445,-41.1129379272461,-41.113109588623,-41.1132392883301,-41.1133499145508,-41.1134300231934,-41.1134796142578,-41.1135177612305,-41.1135673522949,-41.1135787963867,-41.1135902404785,-41.1136474609375,-41.1137008666992,-41.11376953125,-41.1138305664062,-41.1138801574707,-41.1139373779297,-41.1139488220215,-41.1140594482422,-41.1142082214355,-41.1143379211426,-41.1144905090332,-41.1146278381348,-41.1147804260254,-41.1148796081543,-41.1150703430176,-41.1151504516602,-41.1152191162109,-41.1152877807617,-41.1153106689453,-41.1153297424316,-41.1154479980469,-41.1155204772949,-41.1155204772949,-41.1156005859375,-41.1156692504883,-41.1157493591309,-41.1157989501953,-41.115837097168,-41.1158905029297,-41.115909576416,-41.1159286499023,-41.1159400939941,-41.1159400939941,-41.1159286499023,-41.115909576416,-41.1158676147461,-41.1158599853516,-41.1158676147461,-41.1158905029297,-41.115909576416,-41.1159591674805,-41.1159973144531,-41.1160697937012,-41.1161193847656,-41.1161689758301,-41.1161880493164,-41.1162071228027,-41.1162185668945,-41.1162376403809,-41.1162376403809,-41.1162300109863,-41.1162071228027,-41.1161308288574,-41.1161308288574,-41.1161079406738,-41.1161003112793,-41.1161003112793,-41.1161003112793,-41.1160888671875,-41.1161079406738,-41.1161499023438,-41.1162300109863,-41.1163291931152,-41.1164207458496,-41.1165084838867,-41.1166496276855,-41.1167907714844,-41.1167984008789,-41.1168594360352,-41.1170082092285,-41.1173896789551,-41.1174392700195,-41.1174774169922,-41.1175689697266,-41.1177101135254,-41.1179504394531,-41.1182289123535,-41.1186103820801,-41.1188583374023,-41.1190872192383,-41.1194190979004,-41.1197776794434,-41.1202583312988,-41.1208877563477,-41.1216201782227,-41.1221389770508,-41.1224403381348,-41.1225090026855,-41.1226005554199,-41.1227073669434,-41.1227378845215,-41.1227989196777,-41.1228294372559,-41.1228485107422,-41.1228485107422,-41.1228294372559,-41.1227989196777,-41.122730255127,-41.1226806640625,-41.1226501464844,-41.1226692199707,-41.122730255127,-41.1227989196777,-41.1229972839355,-41.123119354248,-41.1232490539551,-41.1235771179199,-41.1238174438477,-41.1239585876465,-41.1243286132812,-41.1246299743652,-41.1249008178711,-41.1258583068848,-41.1260604858398,-41.126220703125,-41.1266593933105,-41.1267776489258,-41.1269683837891,-41.1273078918457,-41.127628326416,-41.1280899047852,-41.129020690918,-41.1298408508301,-41.1305198669434,-41.1311378479004,-41.1316604614258,-41.1318702697754,-41.1321907043457,-41.1325492858887,-41.1329078674316,-41.1332397460938,-41.1335487365723,-41.1336898803711,-41.133918762207,-41.1341094970703,-41.1342582702637,-41.1345596313477,-41.1348686218262,-41.1351280212402,-41.1353378295898,-41.1356506347656,-41.1359100341797,-41.1362686157227,-41.1364784240723,-41.1366882324219,-41.1370277404785,-41.1373291015625,-41.1375579833984,-41.1380577087402,-41.1383171081543,-41.1385688781738,-41.1387596130371,-41.1391296386719,-41.1394081115723,-41.1397590637207,-41.1399803161621,-41.1401672363281,-41.1404304504395,-41.140739440918,-41.140998840332,-41.1411094665527,-41.141357421875,-41.1416778564453,-41.1422004699707,-41.1428489685059,-41.1433792114258,-41.1436500549316,-41.1438789367676,-41.1440773010254,-41.1442680358887,-41.1444206237793,-41.1445274353027,-41.144718170166,-41.1449203491211,-41.1449699401855,-41.1451873779297,-41.1453704833984,-41.1456108093262,-41.1458282470703,-41.1460990905762,-41.1462707519531,-41.1466102600098,-41.146900177002,-41.1474189758301,-41.147590637207,-41.1477584838867,-41.1479797363281,-41.1482200622559,-41.1484870910645,-41.1486473083496,-41.1489906311035,-41.1495780944824,-41.1496391296387,-41.1497077941895,-41.1497802734375,-41.1498374938965,-41.1499099731445,-41.1499786376953,-41.1500473022461,-41.1501197814941,-41.1501884460449,-41.1502685546875,-41.1503372192383,-41.1504096984863,-41.1504783630371,-41.1505584716797,-41.1506271362305,-41.150707244873,-41.1507873535156,-41.1508598327637,-41.1509399414062,-41.1517105102539,-41.1517906188965,-41.1518592834473,-41.1519393920898,-41.1520195007324,-41.1520881652832,-41.1521682739258,-41.1522407531738,-41.1523094177246,-41.1523895263672,-41.152458190918,-41.152530670166,-41.1525993347168,-41.1526679992676,-41.1527404785156,-41.1528091430664,-41.1528778076172,-41.1529502868652,-41.153018951416,-41.1530799865723,-41.153148651123,-41.1532173156738,-41.1532783508301,-41.1533393859863,-41.1534080505371,-41.1534690856934,-41.1535301208496,-41.1535987854004,-41.1536598205566,-41.1537208557129,-41.1537780761719,-41.1538276672363,-41.1538887023926,-41.1563606262207,-41.1570777893066,-41.1571388244629,-41.1571998596191,-41.1572494506836,-41.1573104858398,-41.1573677062988,-41.1574287414551,-41.1574783325195,-41.1575393676758,-41.1575889587402,-41.1576385498047,-41.1576881408691,-41.1577491760254,-41.1577987670898,-41.1578483581543,-41.1578979492188,-41.1579475402832,-41.1579895019531,-41.1580390930176,-41.158088684082,-41.158130645752,-41.1581802368164,-41.1587371826172,-41.1587905883789,-41.1588287353516,-41.158878326416,-41.1589202880859,-41.1589698791504,-41.1590194702148,-41.1590576171875,-41.159107208252,-41.1591606140137,-41.1592102050781,-41.1592597961426,-41.159309387207,-41.1593589782715,-41.1594200134277,-41.1594696044922,-41.1595191955566,-41.1595802307129,-41.1596298217773,-41.1596908569336,-41.159740447998,-41.159797668457,-41.1598587036133,-41.1599197387695,-41.159969329834,-41.1600303649902,-41.1600875854492,-41.1601486206055,-41.1602096557617,-41.160270690918,-41.1603393554688,-41.160400390625,-41.160457611084,-41.1605186462402,-41.160587310791,-41.1606483459473,-41.1607208251953,-41.1607780456543,-41.1608505249023,-41.1609191894531,-41.1609802246094,-41.1610488891602,-41.1611175537109,-41.161190032959,-41.1612586975098,-41.1613273620605,-41.1613998413086,-41.1614685058594,-41.1615371704102,-41.1616096496582,-41.161678314209,-41.161750793457,-41.1618270874023,-41.1618995666504,-41.161979675293,-41.1620483398438,-41.1621208190918,-41.1621971130371,-41.1622772216797,-41.1632194519043,-41.1632881164551,-41.1633682250977,-41.1634407043457,-41.1635093688965,-41.1635780334473,-41.1636505126953,-41.1637191772461,-41.1637802124023,-41.1638488769531,-41.1639175415039,-41.163990020752,-41.1640472412109,-41.164119720459,-41.1641883850098,-41.164249420166,-41.1643180847168,-41.164379119873,-41.1644401550293,-41.1645088195801,-41.1645698547363,-41.1646270751953,-41.1646881103516,-41.1647491455078,-41.1657104492188,-41.1657791137695,-41.1658401489258,-41.1658973693848,-41.165958404541,-41.1660194396973,-41.1660804748535,-41.1661491394043,-41.1662101745605,-41.1662673950195,-41.1663284301758,-41.1663970947266,-41.1664581298828,-41.1665191650391,-41.1665878295898,-41.1666488647461,-41.1682205200195,-41.1687507629395,-41.169319152832,-41.1699295043945,-41.1703872680664,-41.1707801818848,-41.171329498291,-41.1716079711914,-41.1719398498535,-41.1723175048828,-41.1727600097656,-41.1735076904297,-41.1742401123047,-41.1745986938477,-41.1749382019043,-41.1753387451172,-41.175708770752,-41.1759796142578,-41.1762580871582,-41.1765670776367,-41.1768798828125,-41.1771202087402,-41.1774291992188,-41.1780090332031,-41.178638458252,-41.1797180175781,-41.180347442627,-41.1807899475098,-41.1811485290527,-41.1815605163574,-41.1820602416992,-41.1827774047852,-41.1835174560547,-41.1840171813965,-41.1842994689941,-41.1848678588867,-41.1853370666504,-41.1862106323242,-41.1871299743652,-41.187557220459,-41.1878890991211,-41.1884078979492,-41.1889495849609,-41.1892471313477,-41.1896286010742,-41.1898880004883,-41.1899185180664,-41.1899681091309,-41.1901588439941,-41.1904678344727,-41.1905174255371,-41.1907386779785,-41.1910285949707,-41.1911697387695,-41.1913070678711,-41.1917304992676,-41.1920204162598,-41.1925888061523,-41.193187713623,-41.193790435791,-41.1945190429688,-41.1949272155762,-41.1949501037598,-41.1950187683105,-41.1954002380371,-41.1961479187012,-41.1967582702637,-41.1968307495117,-41.1969108581543,-41.197078704834,-41.1973991394043,-41.1978073120117,-41.1981506347656,-41.1983795166016,-41.1986083984375,-41.1988372802734,-41.1990699768066,-41.1991996765137,-41.199390411377,-41.1997184753418,-41.2001991271973,-41.2009201049805,-41.2017784118652,-41.2018890380859,-41.2019691467285,-41.2020874023438,-41.2024879455566,-41.2025375366211,-41.2025871276855,-41.2027206420898,-41.202880859375,-41.203067779541,-41.2031288146973,-41.2031898498535,-41.2032775878906,-41.2035903930664,-41.203987121582,-41.2048683166504,-41.2052803039551,-41.2054481506348,-41.2056083679199,-41.2062072753906,-41.2064476013184,-41.2067184448242,-41.2071876525879,-41.2075271606445,-41.2078285217285,-41.2080993652344,-41.2084503173828,-41.2086486816406,-41.2093505859375,-41.2099571228027,-41.2102394104004,-41.21044921875,-41.2107200622559,-41.211067199707,-41.2113380432129,-41.2116508483887,-41.2120475769043,-41.2126884460449,-41.2129783630371,-41.2136383056641,-41.2140808105469,-41.2143173217773,-41.2146606445312,-41.2149200439453,-41.2150192260742,-41.2151794433594,-41.2154006958008,-41.2156105041504,-41.2158203125,-41.215950012207,-41.2160682678223,-41.2162094116211,-41.2163505554199,-41.2165603637695,-41.2167091369629,-41.2168579101562,-41.2171897888184,-41.2174377441406,-41.2175102233887,-41.2177276611328,-41.2178688049316,-41.2181587219238,-41.2185401916504,-41.2190704345703,-41.2193489074707,-41.2196273803711,-41.2203102111816,-41.2205772399902,-41.220760345459,-41.2209701538086,-41.2213401794434,-41.2215576171875,-41.2217597961426,-41.2219276428223,-41.2222290039062,-41.2225074768066,-41.2229499816895,-41.2234306335449,-41.2236289978027,-41.2237281799316,-41.2238006591797,-41.2238578796387,-41.2239074707031,-41.223949432373,-41.2239685058594,-41.2239875793457,-41.2239990234375,-41.2239875793457,-41.2239875793457,-41.2239799499512,-41.2239799499512,-41.2239685058594,-41.223949432373,-41.2239303588867,-41.2239074707031,-41.2238578796387,-41.2238273620605,-41.2238082885742,-41.2238006591797,-41.2238006591797,-41.2238082885742,-41.2238273620605,-41.2238693237305,-41.2239379882812,-41.2240371704102,-41.2241973876953,-41.2249298095703,-41.225399017334,-41.2258796691895,-41.2260398864746,-41.2262191772461,-41.2266502380371,-41.2268104553223,-41.2269477844238,-41.2270584106445,-41.2271690368652,-41.2273902893066,-41.2280006408691,-41.2284202575684,-41.2285575866699,-41.228687286377,-41.2288475036621,-41.2290802001953,-41.2293281555176,-41.2296104431152,-41.2299194335938,-41.230640411377,-41.2308502197266,-41.2310104370117,-41.231258392334,-41.2314376831055,-41.2316284179688,-41.2319488525391,-41.2320976257324,-41.232250213623,-41.2324371337891,-41.2326583862305,-41.2328186035156,-41.2329902648926,-41.2342796325684,-41.2349891662598,-41.2356986999512,-41.2371101379395,-41.2388687133789,-41.239990234375,-41.2409591674805,-41.2421188354492,-41.2426986694336,-41.2432479858398,-41.243579864502,-41.2439880371094,-41.2442779541016,-41.2446594238281,-41.2450370788574,-41.2455902099609,-41.2461090087891,-41.2464294433594,-41.2466888427734,-41.246940612793,-41.2471580505371,-41.2474479675293,-41.247688293457,-41.2479782104492,-41.2482681274414,-41.2486000061035,-41.2491188049316,-41.2495193481445,-41.2506675720215,-41.2509880065918,-41.2512092590332,-41.2514495849609,-41.2516708374023,-41.2518501281738,-41.252067565918,-41.2523498535156,-41.2526779174805,-41.2529487609863,-41.2531585693359,-41.2535095214844,-41.2537879943848,-41.2539596557617,-41.2541275024414,-41.2545204162598,-41.2547378540039,-41.2549591064453,-41.2551307678223,-41.2553176879883,-41.2555084228516,-41.2557106018066,-41.2559700012207,-41.2563095092773,-41.2568283081055,-41.257007598877,-41.2572402954102,-41.2574996948242,-41.2578773498535,-41.2584571838379,-41.2588806152344,-41.2591781616211,-41.2594871520996,-41.2598495483398,-41.2601470947266,-41.2605895996094,-41.2608680725098,-41.2610778808594,-41.2612800598145,-41.2614402770996,-41.2616500854492,-41.2618179321289,-41.2620887756348,-41.2623291015625,-41.2624893188477,-41.2626800537109,-41.2627601623535,-41.2628784179688,-41.2630805969238,-41.263298034668,-41.264030456543,-41.2649192810059,-41.2651977539062,-41.2668495178223,-41.267147064209,-41.2676086425781,-41.2680892944336,-41.2697982788086,-41.2700271606445,-41.2702789306641,-41.2704200744629,-41.2716674804688,-41.2718772888184,-41.2719879150391,-41.2721290588379,-41.2722473144531,-41.2723693847656,-41.2725105285645,-41.2727584838867,-41.2730484008789,-41.2731170654297,-41.2734870910645,-41.2737197875977,-41.2741508483887,-41.2742881774902,-41.2745475769043,-41.2745704650879,-41.274787902832,-41.2749176025391,-41.2750396728516,-41.2751274108887,-41.2755279541016,-41.2755508422852,-41.2755699157715,-41.2755699157715,-41.2755584716797,-41.2755508422852,-41.2755889892578,-41.2756195068359,-41.2756385803223,-41.2756385803223]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#000000","weight":3,"opacity":1,"fill":false,"fillColor":"#000000","fillOpacity":0.2,"smoothFactor":1,"noClip":false},"29m 4.90000000000009s , 35.3kms",null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[-41.10678,175.10847,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"25 Edelweiss Grv, Timberlea, Upper Hutt 5018, New Zealand",null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[-41.27568,174.78112,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"1 Pipitea St, Thorndon, Wellington 6011, New Zealand",null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-41.27568,-41.1055107116699],"lng":[174.778121948242,175.10847]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>